/**
 *  ___ _         _      _         _      
 * | _ ) |___  __| |____| |_  __ _(_)_ _  
 * | _ \ / _ \/ _| / / _| ' \/ _` | | ' \ 
 * |___/_\___/\__|_\_\__|_||_\__,_|_|_||_|
 *
 * (c) 2017 Blockchain Limited, All Rights Reserved.
 * 
 * Build 48
 * 
 */

var l=void 0,n=null;function ba(){return function(){}}function ea(c){return function(){return c}}
var fa=function(){var c=[],i={AUD:{G:"$",before:!0,H:2,name:"Australian dollar"},BTC:{G:"\u0e3f",before:!0,H:8,name:"Bitcoin"},CAD:{G:"$",before:!0,H:2,name:"Canadian dollar"},CHF:{G:"S\u20a3",before:!1,H:2,name:"Swiss franc"},CLP:{G:"$",before:!0,H:2,name:"Chilean peso"},CNH:{G:"\u5143",before:!1,H:2,name:"Chinese yuan"},CNY:{G:"\u5143",before:!1,H:2,name:"Chinese yuan"},DKK:{G:"kr",before:!1,H:2,name:"Danish krone"},EUR:{G:"\u20ac",before:!0,H:2,name:"Euro"},GBP:{G:"\u00a3",before:!0,H:2,name:"Pound sterling"},
HKD:{G:"\u5713",before:!0,H:2,name:"Hong Kong dollar"},JPY:{G:"\u00a5",before:!0,H:2,name:"Japanese yen"},FTC:{G:"FTC",before:!1,H:8,name:"Feathercoin"},LTC:{G:"\u0141",before:!0,H:8,name:"Litecoin"},NMC:{G:"\u2115",before:!0,H:8,name:"Namecoin"},NVC:{G:"NVC",before:!1,H:8,name:"Novacoin"},NOK:{G:"kr",before:!1,H:2,name:"Norwegian krone"},NZD:{G:"$",before:!0,H:2,name:"New Zealand dollar"},PLN:{G:"z\u0142",before:!1,H:2,name:"Polish z\u0142oty"},PPC:{G:"PPC",before:!1,H:8,name:"Peercoin"},RUB:{G:"\u0440\u0443\u0431",
before:!1,H:2,name:"Russian ruble"},SEK:{G:"kr",before:!1,H:2,name:"Swedish krona"},SGD:{G:"S",before:!0,H:2,name:"Singapore dollar"},THB:{G:"\u0e3f",before:!0,H:2,name:"Thai baht"},TRC:{G:"TRC",before:!1,H:8,name:"Terracoin"},USD:{G:"$",before:!0,H:2,name:"United States dollar"},XBT:{G:"\u0e3f",before:!0,H:8,name:"Bitcoin"},XPM:{G:"\u03a8",before:!0,H:8,name:"Primecoin"}},k;for(k in i)i.hasOwnProperty(k)&&c.push(k);c.sort();return{list:function(){return c},before:function(b){try{return i[b].before}catch(c){return!0}},
V:function(b){try{return i[b].name}catch(c){return"Currency"}},ub:function(b,c,k){try{if(k==n)k=i[b].H;var f,e=parseFloat(c).toFixed(k).toString().split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");f=e.join(".");return i[b].before?i[b].G+f:f+" "+i[b].G}catch(X){return"\u00a40.00"}},G:function(b){try{return i[b].G}catch(c){return"\u00a4"}},La:function(b){return i.hasOwnProperty(b)}}}(),ha={c:{stroke:{Ka:"#85b45b",Z:"#e27e82",Ha:"#e27e82",Ga:"#85b45b",N:"#eaeff4",border:"#b0b0b0",bc:"#ffc200",
zc:"#666",Ac:"#666",xa:"#4c4c4c",xc:"#049bd4",K:"#0066cc,#ffc200,#6600cc,#cc0066,#00cccc,#CC401D,#fff385,#9665cc,#cc5c79,#cc9056,#86ccb6".split(",")},fill:{wa:"#fff",Od:"rgba(255,255,255,0.75)",pd:"rgb(3,155,211)",Mc:"rgba(3,155,211,0.75)",Lc:"rgba(3,155,211,0.05)",Ka:"#85b45b",Z:"#e27e82",label:"#4c4c4c",flags:"#fff",xa:"#fff",Sb:"#fff",Xb:"#737373",zd:"#ffc200",Gb:"#737373"}}},J=function(){var c={anx:{V:"ANX",url:"https://anxpro.com/",ja:{BTC:8,EUR:2,HKD:2,USD:2},va:!0,ia:{},ka:{BTC:["EUR","HKD",
"USD"]},ha:[],ma:[],sa:n},bitstamp:{V:"Bitstamp",url:"https://www.bitstamp.net/",ja:{BTC:8,USD:2},va:!1,ia:{},ka:{BTC:["USD"]},ha:[],ma:[],sa:n},bitfinex:{V:"Bitfinex",url:"https://www.bitfinex.com/",ja:{BTC:8,USD:2},va:!1,ia:{},ka:{BTC:["USD"]},ha:[],ma:[],sa:n},btce:{V:"BTC-e",url:"https://btc-e.com/",ja:{BTC:5,EUR:2,CNH:2,USD:2},va:!0,ia:{},ka:{BTC:["EUR","USD"],FTC:["BTC"],LTC:["BTC","EUR","USD"],NMC:["BTC","USD"],PPC:["BTC","USD"],XPM:["BTC"]},ha:[],ma:[],sa:n},coinbase:{V:"Coinbase",url:"https://coinbase.com/",
ja:{BTC:8,EUR:2,GBP:2,USD:2},va:!1,ia:{},ka:{BTC:["USD"]},ha:[],ma:[],sa:n},gemini:{V:"Gemini",url:"https://gemini.com/",ja:{BTC:8,USD:2},va:!1,ia:{},ka:{BTC:["USD"]},ha:[],ma:[],sa:n},itbit:{V:"itBit",url:"https://www.itbit.com/",ja:{BTC:8,EUR:2,SGD:2,USD:2},va:!0,ia:{},ka:{XBT:["EUR","SGD","USD"]},ha:[],ma:[],sa:n},localbitcoins:{V:"LocalBitcoins",url:"https://localbitcoins.com/",ja:{BTC:8,USD:2},va:!0,ia:{},ka:{BTC:["USD"]},ha:[],ma:[],sa:n},okcoin:{V:"OKCoin",url:"https://www.okcoin.com/",ja:{BTC:8,
CNY:2},va:!0,ia:{},ka:{BTC:["CNY"]},ha:[],ma:[],sa:n}},i=[],k={},b;for(b in c)if(c.hasOwnProperty(b)){i.push(b);var k={},r;for(r in c[b].ka)if(c[b].ka.hasOwnProperty(r)){c[b].ha.push(r);k[r]=n;for(var p=0;p<c[b].ka[r].length;p++)k[c[b].ka[r][p]]=n}c[b].ha.sort();for(r in k)k.hasOwnProperty(r)&&(c[b].ma.push(r),c[b].ma.sort(),c[b].ia[r]=Math.pow(10,c[b].ja[r]))}i.sort();return{list:function(){return i},ad:function(f){try{return c[f].ma}catch(e){return[]}},ha:function(f){try{return c[f].ha}catch(e){return[]}},
Fc:function(f,e){try{return c[f].ka[e]}catch(b){return[]}},ia:function(f,e){try{return c[f].ia[e]}catch(b){return 0}},ja:function(f,e){try{return c[f].ja[e]}catch(b){return 0}},V:function(f){try{return c[f].V}catch(e){return"Exchange"}},Qd:function(f){try{return c[f].va}catch(e){return!1}},getObject:function(f){return c[f].sa},Id:function(f,e){if(c.hasOwnProperty(f))c[f].sa=e},url:function(f){return c[f].url},La:function(f){return c.hasOwnProperty(f)}}}(),K=function(c,i,k){function b(){function b(d,
e){switch(e){case 1:console.error(d);break;case 2:console.warn(d);break;default:console.log(d)}throw{};}var f,e,r,h,S,d,q,D,B,U,I,x,z,H,s,t;function m(d,e){if(f.hasOwnProperty(d))for(var h=0;h<f[d].length;h++)f[d][h][1](e)}function Y(d,e,h){$.ajax({url:d,type:"GET",dataType:"json",success:function(d){"function"==typeof e&&e(d)},error:function(){"function"==typeof h&&h()}})}r=""+c;h=!!i;S=!!k;d="en";q="BTC";D=1E8;B=8;U="USD";I=1E5;x=5;z="0.0.0";H=ja();e="bitstamp";s=["bitstamp","btce"];f={};t=""+window.document.title;
for(var M=[""],N=[""],V=1;V<=30;V++)N.push(N[V-1]+"&nbsp;"),M.push(M[V-1]+"0");return{startTime:function(){return H},gb:function(d,e,h){"undefined"!=typeof d&&Y(d,e,h);return this},P:function(){return q},quote:function(){return U},G:function(){return q+"/"+U},cd:function(){return D},Ed:function(){return I},dd:function(){return B},fc:function(){return x},U:function(d){return n==d||typeof d=="undefined"?e:(window.console.error(d),"")},Vb:function(d){if(typeof d!="undefined"&&d.hasOwnProperty("length")){s=
[];for(var e=0;e<d.length;e++)J.La(d[e])&&s.push(d[e])}else return s;return this},Wb:function(){return J.V(e)},xb:function(d,h,f){try{d=d.toLowerCase(),h=h.toUpperCase(),f=f.toUpperCase()}catch(b){return this}if(!J.La(d))return this;if(s.indexOf(d)<0)return this;if(J.ha(d).indexOf(h)<0)return this;if(J.Fc(d,h).indexOf(f)<0)return this;var c={exch:""+e,base:""+q,quote:""+U};e=d;q=h;U=f;D=J.ia(d,h);I=J.ia(d,f);B=J.ja(d,h);x=J.ja(d,f);m("instrument",{old_instr:c,new_instr:{exch:e,base:q,quote:U}});return this},
version:function(d){if(n==d)return z;else{z=d;for(var d="",e=0;e<75;e++)d+="=";return this}},url:function(){return r},language:function(e){if(n==e)return d;d=e;m("language",d);return this},R:function(d,e,h){f.hasOwnProperty(d)||(f[d]=[]);f[d].push([e,h]);return this},Pd:function(d,e,h){if(f.hasOwnProperty(d)){var b,q=typeof h=="undefined";for(b=f[d].length-1;b>=0;b--)f[d][b][0]==e&&(q||f[d][b][1]==h)&&f[d].splice(b,1);return this}},Kb:function(d){var e,h;for(h in f)if(f.hasOwnProperty(h))for(e=f[h].length-
1;e>=0;e--)f[h][e][0]==d&&f[h].splice(e,1)},trigger:function(d,e){m(d,e)},gd:function(d,e){function h(d,e){$(d).each(function(d,h){var f=Math.max($(h).data("time"),0),b;if(e){b="";var q,c,D,B;B=f;q=Math.floor(B/86400);B-=q*86400;c=Math.floor(B/3600);B-=c*3600;D=Math.floor(B/60);B-=D*60;b+=q>0?q+":":"";b+=(c<10?"0"+c:c)+":";b+=(D<10?"0"+D:D)+":";b+=B<10?"0"+B:B}else b="",q=f%60,c=(f-q)/60%60,D=(f-c*60-q)/3600%3600,b+=(D<10?"0"+D:D)+":",b+=(c<10?"0"+c:c)+":",b+=q<10?"0"+q:q;$(h).text(b);$(h).data("time",
f-1);return!0})}$(d).each(function(d,e){$(e).data("time",parseInt($(this).attr("name"))).removeAttr("name")});window.setInterval(function(){h(d,e)},1E3);h(d,e)},toggle:function(d,e,h,f){return $("<span/>").addClass("control-toggle").addClass(function(){return d?"yes":"no"}).append(function(){return'<i class="icon-'+(d?"ok":"remove")+'"></i>'}).data("state",d).click(function(d){var b=$(d.currentTarget);b.data("state")?(b.data("state",!1).removeClass("yes").addClass("no").html('<i class="icon-remove"></i>'),
"function"==typeof h&&h()):(b.data("state",!0).removeClass("no").addClass("yes").html('<i class="icon-ok"></i>'),"function"==typeof e&&e());"function"==typeof f&&f();la(d)})},select:function(d,e,h,f){var b,q,c=$("<select/>").on("change",function(e){h(e.currentTarget.value);if(f)e.currentTarget.value=d});for(b=0;b<e.length;b++)q=$("<option/>").html(e[b].text).attr("value",e[b].val),e[b].val==d&&q.attr("selected","selected"),c.append(q);return c},xd:function(d,e){if(typeof d=="undefined")return"";var h=
d.toFixed(e==n?na:e),b=h.length,f=1;for(isNaN(h)&&(h="0.0");f<e;)if(h.charAt(b-f)=="0")f++;else{if(f==1)return h;break}return pa?h.slice(0,b-f+1)+'<span class="insig">'+M[f-1]+"</span>":h.slice(0,b-f+1)+N[f-1]},yd:function(d,e){if(typeof d=="undefined")return"";var h=d.toFixed(e==n?na:e),f=h.length,b=1;for(isNaN(h)&&(h="0.0");b<e;)if(h.charAt(f-b)=="0")b++;else{if(b==1)return h;break}return h.slice(0,f-b+1)},Eb:function(d){window.document.title=d+t},vd:function(){_newWindow();return this},Fd:RegExp(/^\d*\.?\d*$/),
Ca:function(){return ea(n)}(),T:function(){return h?b:ba()}(),Da:function(){return h},za:function(){return S},nc:1,qc:2,Rc:3,$c:M,Wc:N}}var r=n;return new function(){this.Ma=function(){if(r==n)r=new b,r.constructor=n;return r}}}("https://blockchain.info/markets/",!1,!1).Ma();function sa(c){return Math.log(c)/Math.LN10}function ja(){return(new Date).getTime()/1E3}
function ta(c){var i="",k=i=0,b=0,r=0;c|=0;i=Math.floor(c/86400);c-=i*86400;k=Math.floor(c/3600);c-=k*3600;b=Math.floor(c/60);r=c-b*60;i>=2?i+=" days":i>=1?k>0?(i=i+" day, "+k+" hour",k>1&&(i+="s")):i+=" day":k>=1?(i=k+" hour",k>1&&(i+="s")):b>=1?(i=b+" minute",b>1&&(i+="s")):(i=r+" second",r>1&&(i+="s"));return i+" ago"}function L(c,i,k){window.clearTimeout($(c).data("delayClassTimeout"+i));$(c).data("delayClassTimeout"+i,window.setTimeout(function(){$(c).removeClass(i)},k))}
function ua(c){return $.extend(!0,{},c)}function la(c){try{c.preventDefault(),c.stopPropagation()}catch(i){}}function ya(c){return c.replace(/ /g,"&nbsp;")}var za=0;function Aa(){try{return"localStorage"in window&&window.localStorage!==n}catch(c){return!1}}Object.size=function(c){var i=0,k;for(k in c)c.hasOwnProperty(k)&&i++;return i};
if(!Array.prototype.indexOf)Array.prototype.indexOf=function(c,i){var k=this.length,b=Number(i)||0,b=b<0?Math.ceil(b):Math.floor(b);for(b<0&&(b+=k);b<k;b++)if(b in this&&this[b]===c)return b;return-1};function R(){return window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1}function Ba(){return!1}(function(){var c=new Image;c.onload=function(){this.width==1&&this.height==1&&(Ba=ea(!0))};c.onerror=ba();c.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="})();
(function(){var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.reqAnimFrame=typeof c!="undefined"?c:function(c){c()}})();R=1;try{var Da=$("<canvas />")[0].getContext("2d"),R=(window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1)/(Da.webkitBackingStorePixelRatio||Da.mozBackingStorePixelRatio||Da.msBackingStorePixelRatio||Da.oBackingStorePixelRatio||Da.backingStorePixelRatio||1)}catch(Fa){}
jQuery.cookie=function(c,i,k){if(arguments.length>1&&String(i)!=="[object Object]"){k=jQuery.extend({},k);if(i===n||i===l)k.Ra=-1;if(typeof k.Ra==="number"){var b=k.Ra,r=k.Ra=new Date;r.setDate(r.getDate()+b)}i=String(i);return document.cookie=[encodeURIComponent(c),"=",k.Gc?i:encodeURIComponent(i),k.Ra?"; expires="+k.Ra.toUTCString():"",k.path?"; path="+k.path:"",k.domain?"; domain="+k.domain:"",k.Hd?"; secure":""].join("")}k=i||{};r=k.Gc?function(b){return b}:decodeURIComponent;return(b=RegExp("(?:^|; )"+
encodeURIComponent(c)+"=([^;]*)").exec(document.cookie))?r(b[1]):n};
function T(){var c=n,i=n;return{create:function(k){k===1&&(i=k);k===2&&(i=k);k===3&&(i=k);k===4&&(i=k);if(i==n)throw"Invalid type.";return{get:function(){return c},set:function(b){switch(i){case 1:if("boolean"==typeof b){c=b;break}break;case 2:if("number"==typeof b){c=parseInt(b);break}break;case 3:if("number"==typeof b){c=parseFloat(b);break}break;case 4:"string"==typeof b&&(c=""+b)}return this},toString:function(){return""+c}}},BOOL:1,INT:2,FLOAT:3,oc:4}}
var Ga=new T,Ha="BTC",Ia="USD",Ja="bitstamp",na=5,Ta=4,pa=!0,Ua={},Va=!0,Wa="c",Xa="0.0.0",Ya=[];
Settings_Helper=function(){function c(b,e,c){return"undefined"==typeof r[b]?e:c.set(e).set(r[b]).get()}var i=(new T).create(Ga.BOOL),k=(new T).create(Ga.INT);(new T).create(Ga.FLOAT);var b=(new T).create(Ga.oc),r={},p={dpp:na,dpv:Ta,dz:pa,b:Ha,q:Ia,ex:Ja,lt:Va,thm:Wa,snd:Ua,version:Xa};return{Dc:function(f){r=f;na=c("dpp",p.dpp,k);Ta=c("dpv",p.dpv,k);pa=c("dz",p.dz,i);Va=c("lt",p.lt,i);Wa=c("thm",p.thm,b);Xa=c("version",p.version,b);var e=c("b",p.b,b);fa.La(e)&&(Ha=e);e=c("q",p.q,b);fa.La(e)&&(Ia=
e);e=c("ex",p.ex,b);J.La(e)&&(Ja=e);Ua=f.hasOwnProperty("snd")?f.snd:{};Ya=f.hasOwnProperty("modules")?f.modules:[];return this},save:function(){var b={},e;for(e in p)p.hasOwnProperty(e)&&(b[e]=p[e]);b.modules=Ya;return JSON.stringify(b)},mb:function(b,e){p[b]=e}}}();
var Za=function(){function c(){function c(){if(h.wb)h.da=window.localStorage;p();window.clearInterval(h.la.id);h.la.id=window.setInterval(e,h.la.interval)}function b(d){if(!h.lock[d]){h.lock[d]=!0;var e=["https://blockchain.info/markets/data",K.U(),K.P()+K.quote(),d,""].join("/");e+="bars.json";K.gb(e,function(d){return function(e){a:if(h.lock[d]=!1,e!=n){var b,f=["bars","next","prev"],c,q;for(b=0;b<f.length;b++)if(!e.hasOwnProperty(f[b]))break a;f=e.bars;h.links[d].prev=e.prev;K.trigger("console",
"Loaded "+f.length+" chart bars.");if(f.length!=0){for(b=e.bars.length-1;b>=0;b--)h.I.bars[d].push(e.bars[b]);for(b=h.za.indexOf(d)-1;b>=0;b--){if(h.zb.indexOf(h.za[b])>-1)break;c=h.za[b];q=[[i(f[0][0],c),f[0][1],f[0][2],f[0][3],f[0][4],f[0][5]]];for(e=1;e<f.length;e++)i(f[e][0],c)>q[0][0]?q.splice(0,0,[i(f[e][0],c),f[e][1],f[e][2],f[e][3],f[e][4],f[e][5]]):(f[e][2]>q[0][2]&&(q[0][2]=f[e][2]),f[e][3]<q[0][3]&&(q[0][3]=f[e][3]),q[0][4]=+f[e][4],q[0][5]+=f[e][5]);for(e=0;e<q.length;e++)h.I.bars[c].push(q[e]);
K.trigger("barclose",c)}}}}}(d),function(d){return function(){h.lock[d]=!1;K.trigger("barclose",d)}}(d))}}function i(d,e){d=+d;return d-d%e}function p(){K.U();var d=K.P(),e=K.quote(),f,c;h.I.ticks=[];h.I.ticker={};for(c=0;c<h.za.length;c++)f=h.za[c],h.I.bars[f]=[];for(c=0;c<h.zb.length;c++)f=h.zb[c],h.links[f]={prev:n,next:n,last:n},h.lock[f]=!1,b(f);if(h.wb&&(d=K.U()+"_"+d+e+"_ticks",typeof h.da[d]!="undefined"))d=JSON.parse(h.da[d]),d.hasOwnProperty("stamp")&&d.stamp+h.J.Kc>ja()&&(h.I.ticks=d.ticks)}
function f(){if(h.wb){var d=K.U(),e=K.P(),b=K.quote(),d=d+"_"+e+b+"_ticks",e=h.I.ticks.slice(0,h.J.jc),b={};if(e.length!=0){b.stamp=ja();b.ticks=e;try{h.da[d]=JSON.stringify(b)}catch(f){}window.clearTimeout(h.J.lb);h.J.lb=-1}}}function e(){p()}function X(e){h.I.network=e}var h={I:{bars:{},ticks:[],ticker:{},network:{}},links:{},zb:[86400,14400,900,60],za:[604800,259200,86400,43200,28800,14400,7200,3600,2700,1800,900,300,180,60],la:{id:-1,interval:Math.round((120+3*Math.random())*1E3)},lock:{},da:n,
wb:Aa(),J:{Hc:3E4,lb:-1,Nc:0,Oc:100,jc:1500,Kc:300},self:n,T:K.Da()},S=K.T;return{Ic:function(){c();return this},self:function(e){h.self=e;K.R("trade","data",h.self.Cc);K.R("ticker","data",h.self.Bc);K.R("instrument","data",c);K.R("network","data",X);return this},Cc:function(e){var b=[e.time,e.price,e.amount],c;h.I.ticks.splice(0,0,b);c=h.I.ticks.length;var B=h.J.jc,k;c>B&&h.I.ticks.splice(B-1,B-c);for(k in h.I.bars)h.I.bars.hasOwnProperty(k)&&(B=+k,c=i(e.time,B),h.I.bars[k].length==0||c>=h.I.bars[k][0][0]+
B?(h.I.bars[k].splice(0,0,[c,b[1],b[1],b[1],b[1],b[2]]),K.trigger("barclose",k)):c==h.I.bars[k][0][0]&&(b[1]>h.I.bars[k][0][2]&&(h.I.bars[k][0][2]=b[1]),b[1]<h.I.bars[k][0][3]&&(h.I.bars[k][0][3]=b[1]),h.I.bars[k][0][4]=b[1],h.I.bars[k][0][5]+=b[2]));if(++h.J.Nc%h.J.Oc==0)f();else if(h.J.lb==-1)h.J.lb=window.setTimeout(f,h.J.Hc)},Bc:function(e){h.I.ticker=e},data:h.I,ud:ba(),Ca:function(){return h.T?function(){return h}:function(){return{}}}(),T:function(){return h.T?S:ba()}()}}var i=n;return new function(){this.Ma=
function(){if(i==n)i=new c,i.constructor=n;return i}}}(),fb=n;
function gb(){function c(c,i,f){var e,k;if(!(typeof c=="undefined"||c.length<=i)){k=c[i][5]/1E8;b.ua=[[k,!0]];b.max=k;for(e=1;e<=f-i;e++){k=c[e+i][5]/1E8;if(k>b.max)b.max=k;c[e+i][4]>c[e+i-1][4]&&(b.ua[b.ua.length-1][1]=!1);b.ua.push([k,!0])}}}function i(){return[{type:b.rb,data:b.ua}]}function k(c){var i="Volume";c>=0&&c<b.ua.length&&(i+=" "+b.ua[c][0].toFixed(1));return i}var b={type:"",Db:"IND",color:n,min:0,max:1,Ab:[],jb:[],Yc:new T,input:n,ua:[],I:{rd:-1,sd:-1,Md:-1,Rd:[]},pb:0,sb:1,Ob:2,Xa:3,
Oa:4,mc:5,Pb:6,Nb:7,rb:8,bb:function(){return[]},Hb:function(){return{}},update:ba(),label:ea(""),T:K.Da()};return{fa:function(r,p){switch(r){case "vol":b.Db="VOL",b.min=0,b.update=c,b.bb=i,b.label=k}b.type=r;if(typeof p!="undefined"&&p.hasOwnProperty("length")){var f;for(f=0;f<b.jb.length;f++)p.length<=f||p[f]<b.jb[f].bounds[0]||p[f]>b.jb[f].bounds[1]||(b.Ab[f]=p[f])}return this},reset:function(){b.ua=[];return this},Pa:function(){return[b.min,b.max]},update:function(c,i,f){b.ua=[];if(typeof c!=
"undefined"&&c.hasOwnProperty("length")&&c.length!=0)return b.update(c,i,f),this},bb:function(){return b.bb()},Hb:function(){return b.Hb()},label:function(c){return b.label(c)},color:function(c){return typeof c=="undefined"?b.color:(b.color=c,this)},Db:function(){return b.Db},A:function(){return b.Ab},Bd:function(){return b.jb},Dd:ba(),Cd:function(c,i){b.Ab[c]=i;return this},Ca:function(){return b.T?function(){return b}:ea(n)}()}}
function mb(){function c(){a.element.empty();$a();a.z=a.element.width();a.C=a.element.height();var g=a.z*R,o=a.C*R;a.canvas.P=$("<canvas/>").attr("width",g).attr("height",o).css("width",a.z).css("height",a.C).attr("z-index",100);a.canvas.wa=$("<canvas/>").attr("width",g).attr("height",o).css("width",a.z).css("height",a.C).attr("z-index",101);a.canvas.ra=$("<canvas/>").attr("width",g).attr("height",o).css("width",a.z).css("height",a.C).attr("z-index",102);a.canvas.Sa=$("<canvas/>").attr("width",g).attr("height",
o).css("width",a.z).css("height",a.C).attr("z-index",103);a.canvas.j=$("<canvas/>").attr("width",g).attr("height",o).css("width",a.z).css("height",a.C).attr("z-index",105);a.canvas.K=$("<canvas/>").attr("width",g).attr("height",o).css("width",a.z).css("height",a.C).attr("z-index",106);a.canvas.P[0].getContext("2d").scale(R,R);a.canvas.wa[0].getContext("2d").scale(R,R);a.canvas.ra[0].getContext("2d").scale(R,R);a.canvas.Sa[0].getContext("2d").scale(R,R);a.canvas.j[0].getContext("2d").scale(R,R);a.canvas.K[0].getContext("2d").scale(R,
R);a.element.append(a.canvas.P).append(a.canvas.wa).append(a.canvas.ra).append(a.canvas.Sa).append(a.canvas.j).append(a.canvas.K);g=a.canvas.P[0].getContext("2d");g.font=a.font.Ea;a.e.j.z=g.measureText(O(1E3)).width+a.e.vc+2}function i(g){var o=a.C-((a.a.length-1)*(2+a.e.ga)+1+a.e.j.C),C=-1,y;for(y=0;y<a.a.length;y++)a.a[y].h=a.a[y].hasOwnProperty("main")?0.75*o|0:0.25*o/(a.a.length-1)|0,a.a[y].px=C,C+=a.a[y].h+2+a.e.ga+1;if(typeof g!="undefined"){C=new T;o=(new T).create(C.INT);C=(new T).create(C.BOOL);
if(g.hasOwnProperty("r"))a.A.hc=C.set(a.A.hc).set(g.r).get();if(g.hasOwnProperty("g"))a.A.N=C.set(a.A.N).set(g.g).get();if(g.hasOwnProperty("c"))a.A.ba=C.set(a.A.ba).set(g.c).get();if(g.hasOwnProperty("k"))a.A.eb=C.set(a.A.eb).set(g.k).get();if(g.hasOwnProperty("b"))a.A.Za=C.set(a.A.Za).set(g.b).get();if(g.hasOwnProperty("l"))a.A.oa=C.set(a.A.oa).set(g.l).get();if(g.hasOwnProperty("m"))a.mode.ea=o.set(a.mode.ea).set(g.m).get();if(g.hasOwnProperty("d"))a.mode.display=o.set(a.mode.display).set(g.d).get();
if(g.hasOwnProperty("w"))a.e.D.width=o.set(a.e.D.width).set(g.w).get();if(g.hasOwnProperty("s"))a.e.D.aa=o.set(a.e.D.aa).set(g.s).get();if(g.hasOwnProperty("t")){o=o.set(a.M.Y[a.M.ea]).set(g.t).get();for(y=0;y<a.M.Y.length;y++)if(a.M.Y[y]==o)a.M.ea=y}a.n.data=fb.data.bars[Ka()];if(g.hasOwnProperty("i")){var o=[],C=["m","p","h"],j,e,d,b=[],f=[];for(y in a.fb)a.fb.hasOwnProperty(y)&&b.push(y);for(y in a.ec)a.ec.hasOwnProperty(y)&&f.push(y);for(y=0;y<g.i.length;y++){e=!0;for(j=0;j<C.length;j++)e=e&&
g.i[y].hasOwnProperty(C[j]);if(e){e={px:~~+g.i[y].p,h:~~+g.i[y].h};if(e.px<a.e.ga)e.px=a.e.ga;if(g.i[y].m){e.main=!0;e.o=[];e.u=[];if(g.i[y].hasOwnProperty("o"))for(j=0;j<g.i[y].o.length;j++)if(d=n,g.i[y].o[j].hasOwnProperty("t")&&f.indexOf(g.i[y].o[j].t)>=0&&g.i[y].o[j].hasOwnProperty("s"))g.i[y].o[j].hasOwnProperty("c")&&(d=g.i[y].o[j].c),e.o.push({t:g.i[y].o[j].t,i:n,s:g.i[y].o[j].s,c:d});if(g.i[y].hasOwnProperty("u"))for(j=0;j<g.i[y].u.length;j++)if(g.i[y].u[j].hasOwnProperty("t")&&f.indexOf(g.i[y].u[j].t)>=
0&&g.i[y].u[j].hasOwnProperty("s"))g.i[y].u[j].hasOwnProperty("c")&&(d=g.i[y].u[j].c),e.u.push({t:g.i[y].u[j].t,i:n,s:g.i[y].u[j].s,c:d})}else if(b.indexOf(g.i[y].t)>=0&&g.i[y].hasOwnProperty("r"))e.t=g.i[y].t,e.i=n,e.s=g.i[y].r;else continue;o.push(e)}}if(o.length>0)a.a=o}}}function k(){var g=[],o=[],C;for(C=0;C<a.M.Y.length;C++)g.push({val:a.M.Y[C],text:ab(a.M.Y[C])});for(C=0;C<a.mode.Rb.length;C++)o.push({val:C,text:a.mode.Rb[C]});return[$("<p/>").append(K.select(a.M.Y[a.M.ea],g,function(g){a.M.ea=
a.M.Y.indexOf(+g);La();K.trigger("settings-change");p()})).append($("<span/>").addClass("control-label").html("Time Period")),$("<p/>").append(K.select(a.mode.display,o,function(g){a.mode.display=+g;K.trigger("settings-change");p()})).append($("<span/>").addClass("control-label").html("Draw Style")),$("<p/>").append(K.toggle(a.A.ba,function(){a.A.ba=!0},function(){a.A.ba=!1},function(){p();K.trigger("settings-change")})).append($("<span/>").addClass("control-label").html("Show Crosshair")),$("<p/>").append(K.toggle(a.A.N,
function(){a.A.N=!0},function(){a.A.N=!1},function(){p();K.trigger("settings-change")})).append($("<span/>").addClass("control-label").html("Show Grid")),$("<p/>").append(K.toggle(a.A.oa,function(){a.A.oa=!0},function(){a.A.oa=!1},function(){p();K.trigger("settings-change")})).append($("<span/>").addClass("control-label").html("Logarithmic Scale"))]}function b(){var g,o,C;for(g=0;g<a.a.length;g++)if(a.a[g].hasOwnProperty("main")){for(o=0;o<a.a[g].u.length;o++)C=typeof a.a[g].u[o].c!="undefined"&&
a.a[g].u[o].c!=n?a.a[g].u[o].c:e(g),a.a[g].u[o].i=(new gb).fa(a.a[g].u[o].t,a.a[g].u[o].s).color(C);for(o=0;o<a.a[g].o.length;o++)C=typeof a.a[g].o[o].c!="undefined"&&a.a[g].o[o].c!=n?a.a[g].o[o].c:e(g),a.a[g].o[o].i=(new gb).fa(a.a[g].o[o].t,a.a[g].o[o].s).color(C)}else a.a[g].i=(new gb).fa(a.a[g].t,a.a[g].s)}function r(){var g=a.canvas.P[0].getContext("2d"),o=a.canvas.wa[0].getContext("2d"),C=a.canvas.ra[0].getContext("2d"),e=a.canvas.Sa[0].getContext("2d");if(a.flags.kb){a.n.ta=(a.z-a.e.j.L-a.e.j.z-
1)/(a.e.D.width+a.e.D.aa)|0;var j,v,b=aa();if(b[1]>-1)a.F.ca=0,a.F.W=1E15;for(j=b[0];j<=b[1];j++)if(a.mode.display==a.Xa||a.mode.display==a.Oa){if(a.n.data[j][4]>a.F.ca)a.F.ca=a.n.data[j][4];if(a.n.data[j][4]<a.F.W)a.F.W=a.n.data[j][4]}else{if(a.n.data[j][2]>a.F.ca)a.F.ca=a.n.data[j][2];if(a.n.data[j][3]<a.F.W)a.F.W=a.n.data[j][3]}j=a.F.ca-a.F.W;if(a.A.oa)a.F.ca=Math.min(1.1*a.F.ca,a.F.ca+0.1*j),a.F.W=Math.max(a.F.W/1.1,a.F.W-0.1*j);else if(a.F.ca+=j*0.1,a.F.W-=j*0.1,a.F.W<0)a.F.W=0;a.F.gc=a.F.ca-
a.F.W;a.e.D.ya=(a.e.D.width-1)/2|0;a.M.Jc=ab();for(j=0;j<a.a.length;j++)if(a.a[j].hasOwnProperty("main")){if(a.A.oa){v=a.a[j].px;var c=v+a.a[j].h,q=a.F.W,i=a.F.ca;try{a.log.hb=(v-c)/sa(i/q),a.log.Ya=(v*sa(q)-c*sa(i))/sa(q/i)}catch(k){a.log.hb=0,a.log.Ya=0}}for(v=0;v<a.a[j].o.length;v++)a.a[j].o[v].hasOwnProperty("i")&&a.a[j].o[v].i.update(a.n.data,b[0],b[1]);for(v=0;v<a.a[j].u.length;v++)a.a[j].u[v].hasOwnProperty("i")&&a.a[j].u[v].i.update(a.n.data,b[0],b[1])}else a.a[j].i.update(a.n.data,b[0],b[1]);
a.flags.kb=!1;a.flags.S.P=!0;a.flags.S.ra=!0;a.flags.S.ob=!0;a.flags.S.Va=!0;a.flags.S.Ta=!0}if(a.flags.S.P){g.clearRect(0,0,a.z,a.C);g.fillStyle=a.B.fill.wa;j=a.z-a.e.j.z-a.e.j.L;g.fillRect(j|0,0,a.e.j.z+a.e.j.L|0,a.C|0);for(b=0;b<a.a.length;b++)b<a.a.length-1?g.fillRect(0,a.a[b].px+a.a[b].h+2|0,j|0,a.e.ga|0):g.fillRect(0,a.a[b].px+a.a[b].h+2|0,j|0,a.e.j.C|0);var s,t,u,q=a.M.Y[a.M.ea],i=Va,m=[];oa(g,!0);g.strokeStyle=a.B.stroke.N;g.lineWidth=1;j=g.measureText("00:00").width;v=g.measureText("12/30").width;
g.measureText("Jan");c=Math.ceil(j*1.25/(a.e.D.width+a.e.D.aa));c<=0&&(c=1);g.beginPath();if(q<14400){for(b=0;;b++)if(s=W(b),!(s<0)){if(s>=a.n.data.length)break;u=a.n.data[s][0];if(Ra(u,i)){m.push(b);ga(u,i)==1?M(u,i)==1?Z(g,Y(u,i),b):Z(g,N(u,i),b):Z(g,V(u,!1,i),b);if(a.A.N)for(u=0;u<a.a.length;u++)x(g,u,G(b),a.qa);if(b>a.n.ta)break;b+=c-1}}m.length==0&&m.push(P(a.n.data.length-1));g.stroke();g.beginPath();oa(g,!1);g.strokeStyle=a.B.stroke.N;for(t=m.length-1;t>=0;t--)for(b=m[t]-c;;b-=c)if(!(b>a.n.ta)){if(t==
0&&b<0)break;s=W(b);if(s<0)break;if(!(s>=a.n.data.length)){if(a.A.N)for(u=0;u<a.a.length;u++)x(g,u,G(b),a.Na);if(b<=m[t-1])break;if(t>0&&G(b)+j/2>=G(m[t-1])-v/2)break;u=a.n.data[s][0];s=wa(u,!1,i);Z(g,s,b)}}g.stroke()}else if(q<86400){for(var p=t=-1,b=0;;b++)if(s=W(b),!(s<0)){if(s>=a.n.data.length-1)break;u=a.n.data[s][0];p=ga(u,i);t=ga(a.n.data[s+1][0],i);if(q>86400&&M(u,i)!=M(a.n.data[s+1][0],i)||t>1&&p==1){m.push(b);M(u,i)==1?Z(g,Y(u,i),b):Z(g,N(u,i),b);if(a.A.N)for(u=0;u<a.a.length;u++)x(g,u,
G(b),a.qa);if(m[m.length-1]>a.n.ta)break;b+=c-1}}m.push(P(a.n.data.length-1));g.stroke();g.beginPath();oa(g,!1);g.strokeStyle=a.B.stroke.N;for(t=m.length-1;t>=0;t--)for(b=m[t]-c;;b-=c)if(!(b>a.n.ta)){if(t==0&&b<0)break;s=W(b);if(s<0)break;if(!(s>=a.n.data.length)){if(a.A.N)for(u=0;u<a.a.length;u++)x(g,u,G(b),a.Na);if(b<=m[t-1])break;if(t>0&&G(b)+j/2>=G(m[t-1])-v/2)break;u=a.n.data[s][0];s=Ra(u,i)?q<86400?ga(u,i):V(u,!1,i):wa(u,!1,i);Z(g,s,b)}}g.stroke()}else if(q<2592E3){for(b=0;;b++)if(s=W(b),!(s<
0)){if(s>=a.n.data.length-1)break;u=a.n.data[s][0];p=ga(u,i);t=ga(a.n.data[s+1][0],i);if(q>86400&&M(u,i)!=M(a.n.data[s+1][0],i)||t>1&&p==1){m.push(b);M(u,i)==1?Z(g,Y(u,i),b):Z(g,N(u,i),b);if(a.A.N)for(u=0;u<a.a.length;u++)x(g,u,G(b),a.qa);if(m[m.length-1]>a.n.ta)break;b+=c-1}}m.push(P(a.n.data.length-1));g.stroke();g.beginPath();oa(g,!1);g.strokeStyle=a.B.stroke.N;for(t=m.length-1;t>=0;t--)for(b=m[t]-c;;b-=c)if(!(b>a.n.ta)){if(t==0&&b<0)break;s=W(b);if(s<0)break;if(!(s>=a.n.data.length)){if(a.A.N)for(u=
0;u<a.a.length;u++)x(g,u,G(b),a.Na);if(b<=m[t-1])break;if(t>0&&G(b)+j/2>=G(m[t-1])-v/2)break;u=a.n.data[s][0];s=q<86400?ga(u,i):V(u,!1,i);Z(g,s,b)}}g.stroke()}g.textAlign="left";g.textBaseline="middle";g.font=a.font.Ea;g.fillStyle=a.B.fill.label;for(b=0;b<a.a.length;b++){if(a.a[b].hasOwnProperty("main"))if(g.strokeStyle=a.B.stroke.border,a.A.oa){if(j=g,v=b,c=q=l,a.a[v].hasOwnProperty("main")?(c=a.F.W,q=a.F.ca):(q=a.a[v].i.Pa(),c=q[0],q=q[1]),!(q-c<=0)){var i=Math.floor(sa(q)),m=Math.floor(sa(c)),
i=Math.pow(10,i),m=Math.pow(10,m),I=s=0,r=t=0;u=[];var p=[],A=0,E=0,va=0,ca=0,Q=0,da=0,ma=!1,ia=a.e.j.font*1.9;t=a.z-a.e.j.L-a.e.j.z;j.beginPath();A=a.a[v].px+a.e.j.font/2;E=a.a[v].px+a.a[v].h-a.e.j.font/2;va=a.a[v].px+2;ca=a.a[v].px+a.a[v].h-2;for(s=m;s<=i;s*=10){r=F(s,v);r>=A&&r<=E?(qa(j,t,r,O(s)),u.push(r),p.push(r)):r>=va&&r<=ca&&u.push(r);for(I=2*s;I<10*s;I+=s)if(!(I<c||I>q))if(r=F(I,v),r>=a.a[v].px&&r<=a.a[v].px+a.a[v].h&&(Ea(j,t,r),u.push(r),r>=A&&r<=E)){ma=!1;for(Q=0;Q<p.length;Q++)if(Math.abs(p[Q]-
r)<ia){ma=!0;break}ma||(Q=O(I),j.fillText(Q,t+a.e.j.L+2,r,a.e.j.z),p.push(r))}}va=a.e.j.font*5;if(p.length==0||a.a[v].h/p.length>va){var ca=0.1,ka=0,I=0;for(s=m;s<=i;s*=10)for(Q=0;Q<4;Q++){if(a.a[v].h/p.length<=va)break;ca=s/Math.pow(10,Q);I=Math.floor(c/ca)*ca;for(ka=Math.ceil(q/ca)*ca;I<ka;I+=ca)if(!(I<c||I>q))if(r=F(I,v),r>=A&&r<=E){ma=!1;for(da=0;da<p.length;da++)if(Math.abs(p[da]-r)<ia){ma=!0;break}ma||(qa(j,t,r,O(I)),p.push(r),u.push(r));Ea(j,t,r)}}}if(a.A.N){j.stroke();j.beginPath();j.strokeStyle=
a.B.stroke.N;for(Q=0;Q<u.length;Q++)H(j,u[Q],a.qa)}j.stroke()}}else S(g,b);else{j=g;v=b;c=a.a[v].i.Hb();m=i=l;i=!0;q=a.a[v].i.Pa();j.lineWidth=1;if(c.hasOwnProperty("minor")){j.strokeStyle=a.B.stroke.Ac;j.fillStyle=a.B.fill.label;j.beginPath();for(i=0;i<c.minor.length;i++)m=c.minor[i],m<q[0]||m>q[1]||(z(j,v,m,a.qb),xa(j,v,m,O(m)));j.stroke();j.strokeStyle=a.B.stroke.border;j.beginPath();for(i=0;i<c.minor.length;i++)m=c.minor[i],m<q[0]||m>q[1]||xa(j,v,m,O(m));j.stroke();i=!1}if(c.hasOwnProperty("major")){j.strokeStyle=
a.B.stroke.zc;j.fillStyle=a.B.fill.label;j.beginPath();for(i=0;i<c.major.length;i++)m=c.major[i],m<q[0]||m>q[1]||(z(j,v,m,a.qa),xa(j,v,m,O(m)));j.stroke();j.strokeStyle=a.B.stroke.border;j.beginPath();for(i=0;i<c.major.length;i++)m=c.major[i],m<q[0]||m>q[1]||xa(j,v,m,O(m));j.stroke();i=!1}if(i)j.strokeStyle=a.B.stroke.border,j.beginPath(),S(j,v),j.stroke()}j=g;v=b;j.lineWidth=1;j.strokeStyle=a.B.stroke.border;Ca(j,-1,a.a[v].px-1,a.z-a.e.j.z-a.e.j.L,a.a[v].h+2)}a.flags.S.P=!1}if(a.flags.S.Ta||a.flags.S.Va)e.clearRect(0,
0,a.z,a.C),a.flags.S.Ta=!0,a.flags.S.Va=!0;a.flags.S.ob&&o.clearRect(0,0,a.z,a.C);for(g=0;g<a.a.length;g++)if(a.a[g].hasOwnProperty("main")){if(a.flags.S.ra){C.clearRect(0,0,a.z,a.C);b=C;j=g;if(!(typeof a.n.data=="undefined"||a.n.data.length==0)){if(a.A.Za&&(v=b,c=j,!isNaN(a.F.Ha)||!isNaN(a.F.Ga)))q=a.F.Ha,i=a.F.Ga,v.textBaseline="middle",v.textAlign="left",v.font=a.font.Ea,v.fillStyle=a.B.fill.flags,v.strokeStyle=a.B.stroke.Ga,v.beginPath(),z(v,c,i,a.qa),v.stroke(),ra(v,c,i,O(i)),v.fillStyle=a.B.fill.flags,
v.strokeStyle=a.B.stroke.Ha,v.beginPath(),z(v,c,q,a.qa),v.stroke(),ra(v,c,q,O(q));switch(a.mode.display){case a.pb:case a.sb:case a.Ob:a:{v=a.n.data;c=a.mode.display;q=aa();s=l;t=n;i=[];m=[];s=p=u=l;s=v.length-1>q[1]?v[q[1]+1]:v[q[1]];switch(c){case a.pb:t=D;break;case a.sb:t=B;break;case a.Ob:t=U;break;default:break a}for(u=q[1];u>=q[0];u--)v[u][4]>=s[4]?i.push([u,P(u)]):m.push([u,P(u)]),s=v[u];b.strokeStyle=a.B.stroke.Z;b.fillStyle=a.B.fill.Z;b.beginPath();for(u=0;u<m.length;u++)p=v[m[u][0]].slice(),
p[5]/=1E8,t(b,j,m[u][1],p);b.stroke();b.strokeStyle=a.B.stroke.Ka;b.fillStyle=a.B.fill.Ka;b.beginPath();for(u=0;u<i.length;u++)p=ua(v[i[u][0]]),p[5]/=1E8,t(b,j,i[u][1],p);b.stroke();s=s[4];if(v.length>=2&&v[1][4]>v[0][4])b.strokeStyle=a.B.stroke.Z;b.fillStyle=a.B.fill.flags;b.textBaseline="middle";b.font=a.font.Ea;ra(b,j,s,O(s))}break;case a.Xa:case a.Oa:d(b,j,a.n.data,a.mode.display==a.Oa,!0)}}a.flags.S.ra=!1}if(a.flags.S.ob){f(o,g);for(b=0;b<a.a[g].u.length;b++)X(o,g,a.a[g].u[b].i);a.flags.S.ob=
!1}if(a.flags.S.Va){f(e,g);for(b=0;b<a.a[g].o.length;b++)X(e,g,a.a[g].o[b].i);a.flags.S.Va=!1}}else if(a.flags.S.Ta||a.a[g].t=="vol")f(e,g),X(e,g,a.a[g].i);a.f.D==n&&h(0);a.flags.S.Ta=!1}function p(){a.n.data=fb.data.bars[Ka()];if(typeof a.n.data=="undefined")a.n.data=[];a.flags.kb=!0;r()}function f(g,o){g.clearRect(0,a.a[o].px-a.e.ga,a.z,a.a[o].h+2*a.e.ga)}function e(g,o,b){var e=n,j=a.B.stroke.K,d=n;a.a[g].hasOwnProperty("main")&&typeof b!="undefined"&&(d=a.a[g][b][o].i);d!=n&&(e=d.color());e===
n&&(typeof o!="undefined"?e=j[o%j.length]:(e=j[a.Zb%j.length],a.Zb++));return e}function X(g,o,b){if("undefined"!=typeof b){var y=b.bb(),j,c=n,f=a.a[o].hasOwnProperty("main");for(j=0;j<y.length;j++)switch(c=n,y[j].type){case a.Xa:f&&(c=b.color());c==n&&(c=e(o,j));g.strokeStyle=c;g.beginPath();d(g,o,y[j].data,!1,!1);g.stroke();break;case a.Oa:d(g,o,y[j].data,!0,!1);break;case a.Pb:f&&(c=b.color());c==n&&(c=e(o,j));g.strokeStyle=c;g.beginPath();var c=g,h=o,i=y[j].data;if(i.hasOwnProperty("length")&&
i.length>0)for(var s=aa(),m=l,t=l,H=t=l,k=a.a[h].px+3,D=k+a.a[h].h-3,m=0;m<=s[1]-s[0];m++)t=P(m+s[0]),t=G(t),H=F(i[m],h),H<k||H>D||Ca(c,t-1,H-1,2,2);g.stroke();break;case a.Nb:q(g,o,y[j].data,!0);break;case a.rb:q(g,o,y[j].data,!1)}}}function h(g){var o,b,y=a.canvas.j[0].getContext("2d"),j,c,d=~~(1.25*a.e.j.font);aa();o=W(0);var f=W(g),h=a.z-a.e.j.L-a.e.j.z-2;o<0&&(g+=o);g<0&&(g=0);f<0&&(f=0);y.strokeStyle=a.B.fill.Sb;y.lineWidth=1.5;y.fillStyle=a.B.fill.Gb;y.textBaseline="top";y.font=a.font.fb;y.clearRect(0,
0,a.z,a.C);for(o=0;o<a.a.length;o++)if(a.a[o].hasOwnProperty("main")){c=f<0||f>=a.n.data.length?"":typeof a.n.data[f]=="undefined"?"":[m(a.n.data[f][0]),"   Price: ",a.n.data[f][4].toFixed(2),", Volume: ",(a.n.data[f][5]/1E8).toFixed(1)].join("");j=a.a[o].px+1;y.strokeText(c,3,j,h);y.fillText(c,3,j,h);for(b=0;b<a.a[o].u.length;b++)if(c=a.a[o].u[b].i,c.hasOwnProperty("label")){j+=d;if(j+d>a.a[o].px+a.a[o].h)break;c=c.label(g);y.strokeText(c,3,j,h);y.fillStyle=e(o,b,"u");y.fillText(c,3,j,h)}for(b=0;b<
a.a[o].o.length;b++)if(c=a.a[o].o[b].i,c.hasOwnProperty("label")){j+=d;if(j+d>a.a[o].px+a.a[o].h)break;c=c.label(g);y.strokeText(c,3,j,h);y.fillStyle=e(o,b,"o");y.fillText(c,3,j,h)}y.fillStyle=a.B.fill.Xb}else c=a.a[o].i,c.hasOwnProperty("label")&&(c=c.label(g),j=a.a[o].px+1,y.strokeText(c,3,j,h),y.fillText(c,3,j,h))}function S(g,o){var b,e,j,c,d,f=[],h,i,s,q=0,m=[];i=[5,2.5,2];a.a[o].hasOwnProperty("main")?(e=a.F.ca,j=a.F.W):(b=a.a[o].i.Pa(),j=b[0],e=b[1]);b=e-j;if(!(b<0)&&(c=b/~~(a.a[o].h/(a.e.j.font*
4)),!(c<0))){h=Math.log(c)/Math.LN10;d=Math.pow(10,h>0?~~h:Math.floor(h));for(h=0;h<i.length;h++)s=Math.log(c/d/(i[h]/10))/Math.LN10,s>1&&f.push([d*i[h],Math.abs(0.5-s),s]);f.length==0&&f.push([d,0,0]);i=1E8;for(h=0;h<f.length;h++)f[h][1]<i&&(i=f[h][1],c=f[h][0]);f=~~(e/c)*c;e=a.z-a.e.j.L-a.e.j.z;d=F(f,o);i=F(j,o)-a.e.j.font/2|0;g.beginPath();for(h=0;f>=j&&d<i&&h<100;){d>=a.a[o].px+a.e.j.font/2&&(qa(g,e,d,O(f)),a.A.N&&m.push(d),q++);for(d=0;d<2;d++){s=g;var t=F(f-(d+1)*c/3,o);Ea(s,a.z-a.e.j.L-a.e.j.z,
t)}f-=c;d=F(f,o);h++}q==0&&(f=j+b/2,d=F(f,o),qa(g,e,d,O(f)));g.stroke();if(a.A.N){g.beginPath();for(d=0;d<m.length;d++)H(g,m[d],a.qa);g.strokeStyle=a.B.stroke.N;g.stroke()}}}function d(g,o,b,e,j){if(typeof b!="undefined"&&b.hasOwnProperty("length")&&b.length>0){var c=aa(),d,f;d=G(P(c[1]));f=j?F(b[c[1]][4],o):F(b[c[1]-c[0]],o);g.beginPath();E(g,d,f);if(j){for(j=c[1]-1;j>=c[0];j--)d=G(P(j)),f=F(b[j][4],o),A(g,d,f);g.lineWidth=2;g.strokeStyle=a.B.stroke.xc;g.lineCap="round";g.lineJoin="round";d=b[0][4]}else{for(var h=
!1,j=c[1]-c[0];j>=0;j--)d=G(P(j+c[0])),f=F(b[j],o),f>=a.a[o].px&&f<=a.a[o].px+a.a[o].h?h?(h=!1,g.beginPath(),E(g,d,f)):A(g,d,f):h||(g.stroke(),h=!0);d=b[0]}g.stroke();if(e)f=a.a[o].px+a.a[o].h,A(g,G(P(c[0])),f),A(g,G(P(c[1])),f),e=g.createLinearGradient(0,0,0,f),e.addColorStop(0,a.B.fill.Mc),e.addColorStop(1,a.B.fill.Lc),g.fillStyle=e,g.fill();g.strokeStyle=b.length>1?b[1][4]<b[0][4]?a.B.stroke.Ka:a.B.stroke.Z:l;g.lineWidth=1;g.fillStyle=a.B.fill.flags;g.textBaseline="middle";g.font=a.font.Ea;ra(g,
o,d,O(d))}}function q(g,o,b,e){if(typeof b!="undefined"&&b.hasOwnProperty("length")&&b.length>0){var c=aa(),d,f=[],h=[];if(e)for(d=0;d<=c[1]-c[0];d++)b[d]>0?f.push([d,P(d+c[0])]):h.push([d,P(d+c[0])]);else for(d=0;d<=c[1]-c[0];d++)b[d][1]?f.push([d,P(d+c[0])]):h.push([d,P(d+c[0])]);g.strokeStyle=a.B.stroke.Z;g.fillStyle=a.B.fill.Z;g.beginPath();for(d=0;d<h.length;d++)I(g,o,h[d][1],e?b[h[d][0]]:b[h[d][0]][0]);g.stroke();g.strokeStyle=a.B.stroke.Ka;g.fillStyle=a.B.fill.Ka;g.beginPath();for(d=0;d<f.length;d++)I(g,
o,f[d][1],e?b[f[d][0]]:b[f[d][0]][0]);g.stroke();if(e){if(e=b[0],e<0)g.strokeStyle=a.B.stroke.Z}else if(e=b[0][0],!b[0][1])g.strokeStyle=a.B.stroke.Z;g.lineWidth=1;g.fillStyle=a.B.fill.flags;g.textBaseline="middle";g.font=a.font.Ea;ra(g,o,e,O(e))}}function D(g,b,d,e){var c=F(e[1],b),f=F(e[2],b),h=F(e[3],b),b=F(e[4],b),i=Math.min(c,b),d=G(d);e[1]>e[4]?(g.fillRect(d-a.e.D.ya+1|0,c|0,a.e.D.width-2|0,b-c|0),f<c&&(E(g,d,f),A(g,d,c-1)),h>b&&(E(g,d,h),A(g,d,b))):(f<b&&(E(g,d,f),A(g,d,b-1)),h>c&&(E(g,d,h),
A(g,d,c)));Ca(g,d-a.e.D.ya,i,a.e.D.width-1,Math.abs(b-c))}function B(g,b,d,e){var c=F(e[1],b),f=F(e[2],b),h=F(e[3],b),b=F(e[4],b),d=G(d);E(g,d-a.e.D.ya,c);A(g,d,c);E(g,d,b);g.lineTo((d+a.e.D.ya|0)+0.6,(b|0)+0.5);E(g,d,f);A(g,d,h)}function U(g,b,d,e){var c=F(e[2],b),f=F(e[3],b),b=F(e[4],b),d=G(d);E(g,d,b);g.lineTo((d+a.e.D.ya|0)+0.6,(b|0)+0.5);E(g,d,c);A(g,d,f)}function I(g,b,d,e){var e=F(e,b),d=G(d),c=F(0,b),b=Math.abs(c-e),e=Math.min(e,c);Ca(g,d-a.e.D.ya,e,a.e.D.width-1,b);g.fillRect(d-a.e.D.ya+
1|0,e+1|0,a.e.D.width-2|0,b|0)}function x(g,b,d,e){var c;c=a.a[b].px-1;b=a.a[b].px+a.a[b].h;if(b>c&&!(b<0)&&!(d<0)&&!(d>a.z)&&!(d>25E3))switch(E(g,d,c),e){case a.Na:for(;c<b;)A(g,d,++c),E(g,d,++c);break;case a.Mb:for(;c<b;)c+=6,c=c>b?b:c,A(g,d,c),c+=2,E(g,d,c);break;case a.qb:for(;c<b;){c+=7;c=c>b?b:c;A(g,d,c);c+=4;if(c>=b)break;E(g,d,c);c+=2;c=c>b?b:c;A(g,d,c);c+=4;E(g,d,c)}break;default:A(g,d,b)}}function z(g,b,d,c){d=F(d,b);d<a.a[b].px||d>a.a[b].px+a.a[b].h||H(g,d,c)}function H(g,b,d){var c;c=
a.z-a.e.j.L-a.e.j.z-1;if(c>0)switch(E(g,c,b),d){case a.Na:for(;c>1;)A(g,--c,b),E(g,--c,b);break;case a.Mb:for(;c>0;)c-=6,c=c<0?0:c,A(g,c,b),c-=2,E(g,c,b);break;case a.qb:for(;c>0;){c-=7;c=c<0?0:c;A(g,c,b);c-=4;if(c<=0)break;E(g,c,b);c-=2;c=c<0?0:c;A(g,c,b);c-=4;E(g,c,b)}break;default:A(g,0,b)}}function s(g,b){if(a.A.ba){var c=a.canvas.K[0].getContext("2d"),d=(a.z-a.e.j.z-a.e.j.L-1-a.e.D.aa/2-g)/(a.e.D.aa+a.e.D.width)|0,e=da(g,b);if(!(e==n||e<0)){var f;a:{var i=n;if(a.a[e].hasOwnProperty("main"))if(a.A.oa){f=
Math.pow(10,(b-a.log.Ya)/a.log.hb);break a}else i=[a.F.W,a.F.ca];else i=a.a[e].i.Pa();var s=Math.max(i[1]-i[0],1.0E-8);f=i[1]-(b-a.a[e].px)/a.a[e].h*s}var s=W(d),i=G(d),q;t(c);c.textBaseline="middle";c.textAlign="left";c.font=a.font.Ea;c.lineWidth=1;c.fillStyle=a.B.fill.xa;c.strokeStyle=a.B.stroke.xa;c.beginPath();H(c,b,a.qa);for(q=0;q<a.a.length;q++)x(c,q,i,a.qa);c.stroke();c.fillStyle=a.B.fill.xa;q=b;f=O(f);var k=a.z-a.e.j.L-a.e.j.z-3,D;D=a.a[e].px+1+Math.ceil(a.e.j.font/2);q<D?q=D:(D=a.a[e].px+
a.a[e].h-Math.ceil(a.e.j.font/2),q>D&&(q=D));Sa(c,k,q,f);if(s>=0&&s<a.n.data.length){oa(c,!0);e=m(a.n.data[s][0]);s=c.measureText(e).width;q=c.fillStyle;f=c.strokeStyle;c.fillStyle=a.B.fill.xa;c.strokeStyle=a.B.stroke.xa;var B=s|0;D=G(d);k=ka(D,B+10)|0;B=B/2+5|0;D=ka(D,7);c.beginPath();E(c,k-B,a.C-1);A(c,k+B,a.C-1);A(c,k+B,a.C-a.e.j.C);A(c,D+3.5,a.C-a.e.j.C);A(c,D,a.C-a.e.j.C-4);A(c,D-3.5,a.C-a.e.j.C);A(c,k-B,a.C-a.e.j.C);A(c,k-B,a.C-1);c.fill();c.stroke();c.fillStyle=q;c.strokeStyle=f;c.fillText(e,
ka(G(d),s+10),a.C-(a.e.j.C-a.e.j.font)/2)}h(d);a.e.ba.x=i;a.e.ba.y=b;a.f.D=d}}}function t(g){if(a.A.ba)g=g||a.canvas.K[0].getContext("2d"),g.clearRect(0,a.e.ba.y-30,a.z,60),g.clearRect(a.e.ba.x,0,1,a.C),g.clearRect(0,a.C-a.e.j.C-4,a.z,a.e.j.C+4),h(0),a.f.D=n}function m(a){var a=new Date(a*1E3),b="";Va===!0?(b=a.getFullYear()+"-",b+=a.getMonth()+1<10?"0":"",b+=a.getMonth()+1+"-",b+=a.getDate()<10?"0":"",b+=a.getDate()+" ",b+=a.getHours()<10?"0":"",b+=a.getHours()+":",b+=a.getMinutes()<10?"0":"",b+=
a.getMinutes()):(b=a.getUTCFullYear()+"-",b+=a.getUTCMonth()+1<10?"0":"",b+=a.getUTCMonth()+1+"-",b+=a.getUTCDate()<10?"0":"",b+=a.getUTCDate()+" ",b+=a.getUTCHours()<10?"0":"",b+=a.getUTCHours()+":",b+=a.getUTCMinutes()<10?"0":"",b+=a.getUTCMinutes());return b}function Y(a,b){var c=new Date(a*1E3);return b===!0?c.getFullYear():c.getUTCFullYear()}function M(a,b){var c=new Date(a*1E3);return b===!0?c.getMonth()+1:c.getUTCMonth()+1}function N(a,b){var c=new Date(a*1E3);return b===!0?bb[c.getMonth()]:
bb[c.getUTCMonth()]}function V(a,b,c){var a=new Date(a*1E3),d="";c===!0?(b&&(d=a.getFullYear()+"/"),d+=a.getMonth()+1+"/",d+=a.getDate()):(b&&(d=a.getUTCFullYear()+"/"),d+=a.getUTCMonth()+1+"/",d+=a.getUTCDate());return d}function ga(a,b){var c=new Date(a*1E3),d="";d+=b===!0?c.getDate():c.getUTCDate();return d}function wa(a,b,c){var a=new Date(a*1E3),d="";c===!0?(d=a.getHours()+":",d+=a.getMinutes()<10?"0":"",d+=a.getMinutes(),b&&(d+=":"+(a.getSeconds()<10?"0":""),d+=a.getSeconds())):(d=a.getUTCHours()+
":",d+=a.getUTCMinutes()<10?"0":"",d+=a.getUTCMinutes(),b&&(d+=":"+(a.getUTCSeconds()<10?"0":""),d+=a.getUTCSeconds()));return d}function Ra(a,b){if(b===!0){var c=new Date(a*1E3);return c.getHours()==0&&c.getMinutes()==0&&c.getSeconds()==0}else return a%86400==0}function oa(g,b){g.textBaseline="bottom";g.textAlign="center";var c=""+a.font.size+"px/"+a.font.lineHeight+"em "+a.font.face;b?(c+=" bold",g.fillStyle=a.B.stroke.xa):g.fillStyle=a.B.fill.label;g.font=c}function Z(g,b,c){g.fillText(b,G(c),
a.C-(a.e.j.C-a.e.j.font)/2)}function ka(g,b){return g>a.z-a.e.j.z-a.e.j.L-1-b/2?a.z-a.e.j.z-a.e.j.L-1-b/2:g<b/2?b/2:g}function xa(g,b,c,d){b=F(c,b);qa(g,a.z-a.e.j.L-a.e.j.z,b,d)}function qa(g,b,c,d){E(g,b,c);A(g,b+a.e.j.L,c);g.fillText(d,b+a.e.j.L+2,c,a.e.j.z)}function Ea(g,b,c){E(g,b,c);A(g,b+a.e.j.sc,c)}function ra(g,b,c,d){var c=F(c,b),e=a.z-a.e.j.L-a.e.j.z-3,f;f=a.a[b].px+1+Math.ceil(a.e.j.font/2);c<f?c=f:(f=a.a[b].px+a.a[b].h-Math.ceil(a.e.j.font/2),c>f&&(c=f));Sa(g,e,c,d)}function Sa(g,b,c,
d){var e,f,h=a.e.j.font/2;g.beginPath();E(g,b,c);f=~~(c-1-h);A(g,b+~~h,f);e=b+a.e.j.z+a.e.j.L+1;g.lineTo((e|0)+0.6,(f|0)+0.5);E(g,e,f);f=Math.ceil(c+1+h);A(g,e,f);A(g,b+~~h,f);A(g,b,c);g.fill();g.stroke();g.fillStyle=a.B.fill.Xb;g.fillText(d,b+a.e.j.L+5,c+1)}function O(g){var b="";g>=1E6?(g/=1E6,b=g.toPrecision(3),b=" "+b+" M"):(b=g.toPrecision(a.font.ib),g>=0&&(b=" "+b),b=b.slice(0,a.font.ib+2));return b}function E(a,b,c){a.moveTo((b|0)+0.5,(c|0)+0.5)}function A(a,b,c){a.lineTo((b|0)+0.5,(c|0)+0.5)}
function Ca(a,b,c,d,e){a.strokeRect((b|0)+0.5,(c|0)+0.5,d|0,e|0)}function F(b,c){var d=n,e;if(a.a[c].hasOwnProperty("main"))if(d=[a.F.W,a.F.ca],a.A.oa)return a.log.hb*sa(b)+a.log.Ya;else e=a.F.gc;else d=a.a[c].i.Pa(),e=Math.max(d[1]-d[0],1.0E-8);return a.a[c].px+a.a[c].h*((d[1]-b)/e)|0}function G(b){return a.z-a.e.j.z-a.e.j.L-1-(b+1)*(a.e.D.aa+a.e.D.width)+(a.e.D.width+1)/2|0}function aa(){return typeof a.n.data=="undefined"||a.n.data.length==0?[0,-1]:[Math.max(0,W(0)),Math.min(a.n.data.length-1,
W(a.n.ta))]}function W(b){return b+a.n.offset-a.n.$a}function P(b){return b-a.n.offset+a.n.$a}function da(b,c){if(b>=a.z-a.e.j.z-a.e.j.L-1)return n;if(c>=a.C-a.e.j.C-1)return n;if(c<=a.a[0].px+a.a[0].h)return 0;for(var d=1;d<a.a.length;d++){if(c<a.a[d].px)return-d;if(c<=a.a[d].px+a.a[d].h)return d}}function Ma(b,c){return c<a.C-a.e.j.C?!1:b>a.z-a.e.j.z?!1:!0}function ia(){a.A.ba&&window.reqAnimFrame(function(){t()})}function hb(){a.canvas.K.on({mousedown:function(b){a.f.Ua=a.n.offset;a.f.cc=a.e.D.aa;
Na(b);a.f.nb=a.f.x;a.f.ic=a.f.y;var c=da(a.f.x,a.f.y);c==n?Ma(a.f.x,a.f.y)?(a.canvas.K.css("cursor","e-resize"),a.f.zoom=!0,a.f.kc=+a.e.D.width):a.canvas.K.css("cursor","default"):c<0?(a.canvas.K.css("cursor","n-resize"),a.f.resize=!0,a.f.O=-c,a.f.pa.Ec=a.a[a.f.O-1].px,a.f.pa.cb=a.a[a.f.O-1].h,a.f.pa.Cb=a.a[a.f.O].px,a.f.pa.vb=a.a[a.f.O].h):(a.f.Z=!0,a.canvas.K.css("cursor","crosshair"),ia());Oa(b);b.preventDefault();b.stopPropagation()},mouseup:function(b){a.f.Z=!1;a.f.resize=!1;a.f.zoom=!1;Oa(b);
Ma(a.f.x,a.f.y)?a.canvas.K.css("cursor","e-resize"):a.canvas.K.css("cursor","none");if(b.ctrlKey&&b.shiftKey){da(a.f.x,a.f.y)>=0&&a.A.ba&&(a.canvas.K.css("cursor","none"),s(a.f.x,a.f.y));var b=a.font.uc,c=b*1.25,d=2.75*c|0,e=$("<canvas/>").attr("width",a.z).attr("height",a.C+d),f=e[0].getContext("2d"),h=K.P()+"/"+K.quote(),i=", "+cb()+" bars. Exchange: "+K.Wb(),q=aa(),m,t,k,H=Va;f.fillStyle=a.B.fill.Sb;f.fillRect(0,d,a.z,a.C);f.fillStyle=a.B.fill.wa;f.fillRect(0,0,a.z,d);f.fillStyle=a.B.stroke.xa;
f.font=a.font.tc;f.textBaseline="middle";k=f.measureText(h).width;m=f.measureText(a.lc).width;t=a.z-m-b;if(q[1]>=q[0]){f.fillText(h,b/2,c);f.font=a.font.Yb;f.fillStyle=a.B.fill.Gb;f.fillText(i,b/2+k,c,t-k);for(h=q[1];h>q[0];h--)if(h<a.n.data.length){i=V(a.n.data[h][0],!0,H)+" "+wa(a.n.data[h][0],H);break}i+=" - ";for(h=q[0];h<q[1];h++)if(h>=0){i+=V(a.n.data[h][0],!0,H)+" "+wa(a.n.data[h][0],H);break}f.fillText(i,b/2,2*c,t-a.e.j.L-a.e.j.z)}else f.fillText(h,b/2,2*c),f.font=a.font.Yb,f.fillStyle=a.B.fill.Gb,
f.fillText(i,b/2+k,2*c,t-k);f.fillText(a.lc,a.z-m-b/2-a.e.j.L-a.e.j.z,2*c);f.drawImage(a.canvas.P[0],0,d,a.z,a.C);f.drawImage(a.canvas.wa[0],0,d,a.z,a.C);f.drawImage(a.canvas.ra[0],0,d,a.z,a.C);f.drawImage(a.canvas.Sa[0],0,d,a.z,a.C);f.drawImage(a.canvas.j[0],0,d,a.z,a.C);f.drawImage(a.canvas.K[0],0,d,a.z,a.C);f.strokeStyle=a.B.stroke.border;f.lineWidth=1;f.beginPath();E(f,0,d);A(f,a.z-a.e.j.L-a.e.j.z,d);f.stroke();b=e[0].toDataURL("image/png");Ba()?window.open(b,"_blank"):(c=window.open("https://blockchain.info/markets/blank.html"),
c.data='<img src="'+b+'"/>',c.document.write(c.data),c.focus())}},mouseout:function(){a.f.Z=!1;a.f.resize=!1;a.f.zoom=!1;a.canvas.K.css("cursor","none");ia();a.f.Fb=-1},mousemove:function(b){if(a.f.Z||a.f.resize||a.f.zoom)a.flags.kb=!0,Oa(b),a.f.Z||a.f.zoom?a.canvas.K.css("cursor","e-resize"):a.canvas.K.css("cursor","n-resize");else{Na(b);b=da(a.f.x,a.f.y);a.canvas.K[0].getContext("2d");b==n?(Ma(a.f.x,a.f.y)?a.canvas.K.css("cursor","e-resize"):a.canvas.K.css("cursor","default"),ia()):b<0?(a.canvas.K.css("cursor",
"n-resize"),ia()):a.A.ba?(a.canvas.K.css("cursor","none"),window.reqAnimFrame(function(){s(a.f.x,a.f.y)})):a.canvas.K.css("cursor","crosshair");if(a.A.eb&&b!=a.f.Fb){b!=n&&b>=0&&$(".control-"+b,a.element).show();var c,d;for(c=0;c<a.a.length;c++)c!=b&&(d=$(".control-"+c,a.element),d.data("popped")||d.hide())}a.f.Fb=b}},dblclick:function(b){a.f.Z=!1;a.f.Ua=a.n.offset;a.n.offset=0;a.n.offset!=a.f.Ua&&p();b.preventDefault();b.stopPropagation()}})}function Na(b){if(b.offsetX)a.f.x=b.offsetX,a.f.y=b.offsetY;
else if(b.pageX){var c=a.canvas.K.offset();a.f.x=b.pageX-c.left;a.f.y=b.pageY-c.top}}function Oa(b){Na(b);if(a.f.Z)if(b.ctrlKey){b=a.e.D.aa;a.e.D.aa=a.f.cc+Math.round((a.f.nb-a.f.x)/10);if(a.e.D.aa<0)a.e.D.aa=0;if(a.e.D.aa>51)a.e.D.aa=51;a.e.D.aa!=b&&(p(),K.trigger("settings-change"),aa())}else a.n.offset=a.f.Ua+Math.round((a.f.x-a.f.nb)/(a.e.D.width+a.e.D.aa)),db(),a.n.offset!=a.f.Ua&&(p(),aa());else if(a.f.zoom){b=+a.e.D.width;a.e.D.width=a.f.kc-2*((a.f.x-a.f.nb)/10|0);if(a.e.D.width<3)a.e.D.width=
3;if(a.e.D.width>51)a.e.D.width=51;a.e.D.width!=b&&(db(),p(),K.trigger("settings-change"),aa())}else if(a.f.resize){b=a.f.y-a.f.ic;b!=0&&K.trigger("settings-change");a.a[a.f.O-1].h=a.f.pa.cb+b;if(a.a[a.f.O-1].h<a.e.Fa)b=a.e.Fa-a.f.pa.cb,a.a[a.f.O-1].h=a.e.Fa;a.a[a.f.O].h=a.f.pa.vb-b;a.a[a.f.O].px=a.f.pa.Cb+b;if(a.a[a.f.O].h<a.e.Fa)b=a.f.pa.vb-a.e.Fa,a.a[a.f.O].h=a.e.Fa,a.a[a.f.O].px=a.f.pa.Cb+b;a.a[a.f.O-1].h=a.f.pa.cb+b;if(a.a[a.f.O-1].h<a.e.Fa)b=(a.a[a.f.O-1].h+a.a[a.f.O].h)/2,a.a[a.f.O].h=b,a.a[a.f.O-
1].h=b,a.a[a.f.O].px=a.a[a.f.O-1].px+a.a[a.f.O-1].h+a.e.ga+3;for(b=0;b<a.a.length;b++)$(".control-"+b,a.element).css("top",a.a[b].px+3+"px");Pa();p()}}function db(){if(a.n.offset>a.n.data.length-a.n.ta+a.n.$a+a.n.Ub)a.n.offset=a.n.data.length-a.n.ta+a.n.$a+a.n.Ub;if(a.n.offset<0)a.n.offset=0}function Pa(){a.resize.Y=a.C-(a.a.length*(2+a.e.ga)-a.e.ga-1+a.e.j.C);a.resize.a=[];a.resize.Bb=[];for(var b=0,c=0;c<a.a.length;c++){b=a.a[c].h;if(b<a.e.ga)b=a.e.ga;a.resize.a.push(b);a.resize.Bb.push(b/a.resize.Y)}}
function Qa(){$a();var b=$(a.element).width(),c=$(a.element).height();if(!(a.z==b&&a.C==c))a.z=b,a.C=c,$("canvas",a.element).each(function(b,c){$(c).attr("width",a.z*R).attr("height",a.C*R).css("width",a.z).css("height",a.C);$(c)[0].getContext("2d").scale(R,R)}),eb(),p()}function $a(){var b=$("#market"),c=$(a.dc),d=$(a.element);if($("#x01").is(":visible")){c.width(b.width());var e=$("body").width()-20;e<320&&(e=320);e>b.width()&&(e=b.width());c.width()/e<16/9&&(e=c.width()*9/16);c.height(e);b.height(c.height()+
$("#ticker-box").height())}else c.width(b.width()-360),b.height($("body").hasClass("bc-ab")?450:550);d.width(c.width());d.height(c.height()-$("#chart-header").outerHeight())}function eb(){var b=a.C-((a.a.length-1)*(2+a.e.ga)+a.e.j.C),c=-1,d=0,e;for(e=0;e<a.a.length;e++)a.a[e].h=a.resize.Bb[e]*b|0,a.a[e].px=c,c+=a.a[e].h+2+a.e.ga,d+=a.a[e].h;for(e=0;d<b;){a.a[e%a.a.length].h+=1;d+=1;for(c=1+e%a.a.length;c<a.a.length;c++)a.a[c].px+=1;e++}for(e=0;d>b;){a.a[e%a.a.length].h-=1;d-=1;for(c=1+e%a.a.length;c<
a.a.length;c++)a.a[c].px-=1;e++}for(e=0;e<a.a.length;e++)$(".control-"+e,a.element).css("top",a.a[e].px+3+"px");a.a[0].h=b*0.8|0;a.a[0].px=-1;a.a[1].h=b-a.a[0].h;a.a[1].px=a.a[0].h+1}function Ka(){return a.M.Y[a.M.ea]}function ab(b){b=typeof b=="undefined"?a.M.Y[a.M.ea]:b;return b==0?"Ticks":b<60?"S"+b:b<3600?"M"+(b/60|0):b<86400?"H"+(b/3600|0):b<604800?"D"+(b/86400|0):b<2592E3?"W"+(b/604800|0):(b/2592E3|0)+"M"}function cb(){var b=a.M.Y[a.M.ea];return b==0?"Ticks":b<60?b+" NaN":b<3600?(b/60|0)+" minute":
b<86400?(b/3600|0)+" hour":b<604800?(b/86400|0)+" day":b<2592E3?(b/604800|0)+" week":(b/2592E3|0)+" month"}function La(){var b=K.Wb()+" "+K.P()+"/"+K.quote()+", ",c;a:switch(a.mode.ea){case a.pc:c=cb();break a;default:c=""}$("#chart-label").html(b+c+" bars")}function ib(a){typeof a=="undefined"&&(a=Ka());isNaN(+a)||p()}function jb(){p()}function kb(b){if(ha.hasOwnProperty(b))a.B=ha[b];p()}function lb(b){var c=!1;if(b.hasOwnProperty("bid")&&a.F.Ha!=b.bid)a.F.Ha=b.bid,c=!0;if(b.hasOwnProperty("ask")&&
a.F.Ga!=b.ask)a.F.Ga=b.ask,c=!0;if(c)a.flags.S.ra=!0,r()}var a={element:"",dc:n,yb:n,self:n,id:"id"+za++,canvas:{P:n,wa:n,ra:n,Sa:n,j:n,K:n},z:0,C:0,mode:{ea:0,Y:["Time Bars"],display:2,Rb:["Candle","OHLC","Line","Mountain"]},pc:0,pb:0,sb:1,Xa:2,Oa:3,mc:5,Pb:6,Nb:7,rb:8,M:{ea:2,Jc:"D1",Y:[604800,259200,86400,43200,28800,14400,7200,3600,2700,1800,900,300,180,60]},n:{ta:-1,offset:0,$a:3,Ub:15,data:[],wd:{}},a:[{main:!0,px:0,h:50,u:[],o:[]},{t:"vol",i:n,px:55,h:10,s:[]}],resize:{Y:0,a:[],Bb:[]},F:{ca:100,
W:50,gc:50,Ha:NaN,Ga:NaN},log:{hb:0,Ya:0,bd:0},e:{ga:0,vc:5,j:{z:65,C:16,L:5,sc:2,font:12},D:{width:5,ya:2,aa:2},F:1,ba:{x:0,y:0},Fa:50},flags:{S:{P:!0,ra:!0,ob:!0,Va:!0,Ta:!0},kb:!0,Lb:!1},f:{Z:!1,zoom:!1,kc:n,x:0,y:0,D:n,nb:0,ic:0,Ua:0,cc:1,resize:!1,O:0,pa:{Ec:0,cb:0,Cb:0,vb:0},Fb:-1},B:ha.c,Zb:0,jd:n,qa:0,Na:1,Mb:2,qb:3,font:{ib:5,Ea:'13px/1.0em Consolas, "Courier New", monospace',size:13,lineHeight:1,face:'Consolas, "Courier New", monospace',fb:"12px/1.0em Arial, sans-serif",Yb:"14px/1.0em Arial, sans-serif",
tc:"bold 14px/1.0em Arial, sans-serif",uc:14},lc:"\u00a9 ZeroBlock",A:{N:!0,ba:!0,eb:!1,Za:!1,oa:!0},fb:{vol:"Volume"},ec:{},T:K.Da()},bb="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");return{fa:function(d,e,f){a.element=d;a.dc=e;c();hb();i(f);b();window.setTimeout(function(){Pa();Qa();eb();p()},110);window.setTimeout(function(){K.trigger("what-theme",n);Pa()},100);La();K.R("barclose",a.id,ib);K.R("theme",a.id,kb);K.R("trade",a.id,jb);K.R("bidask",a.id,lb);K.R("instrument",a.id,La);
K.R("window-resize",a.id,Qa);return this},self:function(b){a.self=b;return this},A:function(){return k()},save:function(){var b,c,d={};d.r=a.A.hc;d.g=a.A.N;d.c=a.A.ba;d.k=a.A.eb;d.b=a.A.Za;d.l=a.A.oa;d.m=+~~a.mode.ea;d.d=+~~a.mode.display;d.t=+~~a.M.Y[a.M.ea];d.w=+~~a.e.D.width;d.s=+~~a.e.D.aa;d.i=[];for(b=0;b<a.a.length;b++)if(a.a[b].hasOwnProperty("main")){var f=[],h=[],i;for(c=0;c<a.a[b].o.length;c++)i=e(b,c,"o"),f.push({t:a.a[b].o[c].t,s:a.a[b].o[c].i.A(),c:i});for(c=0;c<a.a[b].u.length;c++)i=
e(b,c,"u"),h.push({t:a.a[b].u[c].t,s:a.a[b].u[c].i.A(),c:i});d.i.push({m:!0,p:+~~a.a[b].px,h:+~~a.a[b].h,o:f,u:h})}else d.i.push({m:!1,t:a.a[b].t,p:+~~a.a[b].px,h:+~~a.a[b].h,r:a.a[b].i.A()});return d},load:function(a){i(a);p()},unload:function(){K.Kb(a.id)},resize:function(){window.reqAnimFrame(Qa)},md:ba(),Lb:function(b){return b==n||typeof b=="undefined"?a.flags.Lb:(a.flags.Lb=b,this)},Ca:function(){return a.T?function(){return a}:function(){return{}}}()}}
function nb(){function c(b){var c="";b.hasOwnProperty("block_time")&&($("#block_time").html((+b.block_time).toFixed(2)+"&thinsp;minutes"),b.block_time<f.last.block_time?L($("#block_time").addClass("up"),"up",f.J.Q):b.block_time>f.last.block_time&&L($("#block_time").addClass("down"),"down",f.J.Q));if(b.hasOwnProperty("diff_days"))c=b.diff_days,c=c>1?c.toFixed(1)+"&thinsp;days":c>1/24?(c/24).toFixed(1)+"&thinsp;hours":(c/1440).toFixed(0)+"&thinsp;minutes",$("#difficulty").html(c),b.diff_days<f.last.diff_days?
L($("#difficulty").addClass("up"),"up",f.J.Q):b.diff_days>f.last.diff_days&&L($("#difficulty").addClass("down"),"down",f.J.Q);if(b.hasOwnProperty("th_s")){var h=b.th_s,i="0",c='<span class="suffix">';h>1E12?(i=(h/1E12).toFixed(1),c+="Y"):h>1E9?(i=(h/1E9).toFixed(1),c+="Z"):h>1E6?(i=(h/1E6).toFixed(1),c+="E"):h>1E3?(i=(h/1E3).toFixed(1),c+="P"):(i=h.toFixed(1),c+="T");c+="Hash/s</span>";$("#hash_rate").html(i+"&thinsp;"+c);b.th_s<f.last.th_s?L($("#hash_rate").addClass("down"),"down",f.J.Q):b.th_s>
f.last.th_s&&L($("#hash_rate").addClass("up"),"up",f.J.Q)}if(b.hasOwnProperty("cap_usd"))h=b.cap_usd,c="$",c+=h>1E15?(h/1E15).toFixed(1)+"&thinsp;Q":h>1E12?(h/1E12).toFixed(1)+"&thinsp;T":h>1E9?(h/1E9).toFixed(1)+"&thinsp;B":h>1E6?(h/1E6).toFixed(1)+"&thinsp;M":h.toFixed(1),$("#market_cap").html(c),b.cap_usd>f.last.cap_usd?L($("#market_cap").addClass("up"),"up",f.J.Q):b.cap_usd<f.last.cap_usd&&L($("#market_cap").addClass("down"),"down",f.J.Q);if(b.hasOwnProperty("tx_vol_usd"))h=b.tx_vol_usd,c="$",
c+=h>1E12?(h/1E12).toFixed(1)+"&thinsp;T":h>1E9?(h/1E9).toFixed(1)+"&thinsp;B":h>1E6?(h/1E6).toFixed(1)+"&thinsp;M":h.toFixed(1),$("#txn_vol").html(c),b.tx_vol_usd>f.last.tx_vol_usd?L($("#txn_vol").addClass("up"),"up",f.J.Q):b.tx_vol_usd<f.last.tx_vol_usd&&L($("#txn_vol").addClass("down"),"down",f.J.Q);b.hasOwnProperty("tot_btc")&&($("#btc_supply").html((b.tot_btc/1E6).toFixed(2)+"&thinsp;M"),b.tot_btc>f.last.tot_btc&&L($("#btc_supply").addClass("up"),"up",f.J.Q))}function i(b){"undefined"!=typeof b&&
(new T).create((new T).BOOL)}function k(){K.gb("https://blockchain.info/markets/data/blockchain.json",b,r)}function b(b){f.last=ua(f.buffer);for(var c="diff_days,tx_vol_usd,tot_btc,cap_usd,th_s,block_time".split(","),h=0;h<c.length;h++)b.hasOwnProperty(c[h])&&(f.buffer[c[h]]=b[c[h]]);if(Aa())try{window.localStorage[f.da]=JSON.stringify(f.buffer)}catch(i){}p()}function r(){}function p(){c(f.buffer);K.trigger("network",f.buffer)}var f={id:"id"+za++,da:"bci-markets-network",self:n,J:{Q:2500},A:{},last:{},
buffer:{},la:{id:-1,interval:3E5},T:K.Da()};return{fa:function(b){i(b);b={};if(Aa()&&window.localStorage.hasOwnProperty(f.da))try{b=JSON.parse(window.localStorage[f.da]),f.buffer=b}catch(r){}c(fb.data.network);p();window.clearInterval(f.la.id);f.la.id=window.setInterval(k,f.la.interval);k();return this},A:function(){return[]},save:function(){return{}},load:function(b){i(b);return this},unload:function(){K.Kb(f.yb.id());window.clearInterval(f.la.id);return this},Ca:function(){return f.T?function(){return f}:
function(){return{}}}()}}
function ob(){function c(){$("#more-news").on("click",function(){if($("#news-box").hasClass("full")){$("#news-box").removeClass("full");$("#more-news").text("More");var b=$("#news-box").detach();$("#content").remove();$(".header-container").after(e.tb);e.tb=n;$("#feeds").prepend(b);$(window).trigger("resize");$(window).scrollTop($("#news-box").offset().top)}else{$("#news-box").addClass("full");$("#more-news").text("Back");b=$("#news-box").detach();e.tb=$("#content").detach();var c=$("<div/>").attr("id",
"feeds").addClass("container_12");c.append(b);b=$("<div/>").attr("id","content").addClass("full");b.append(c);$(".header-container").after(b);$(window).scrollTop(0)}});e.element.empty().addClass(function(){return e.A.Ia?"compact":n})}function i(){var b="",c=0,f=e.Ib,d={},i=e.last>0&&e.Wa.count>1,k=!1,B=e.last;if(Aa()&&e.da in window.localStorage&&f.length==0)try{f=JSON.parse(window.localStorage[e.da])}catch(p){f=[]}for(c=0;c<f.length;c++){if(c>e.A.wc)break;d=f[c];k&&(k=!1);if(d.id>B&&d.id<e.ac)B=
d.id,i&&(k=!0);var r=d,x=k,d=0,z=[],H=ja(),x=!!x,s=(new Date(r.date)).getTime()/1E3;z[d++]='<a class="story';x&&(z[d++]=" new");z[d++]='" href="';z[d++]=unescape(r.url);z[d++]='" target="_blank" data-id="';z[d++]=r.id;z[d++]='">';z[d++]='<div class="title" title="';z[d++]=r.title.replace(/\"/g,"&quot;");z[d++]='">';z[d++]=r.title;z[d++]="</div>";if(!e.A.Ia){z[d++]='<div class="meta">';z[d++]='<span class="source">';z[d++]=r.publisher;z[d++]="</span>";if(r.id>e.ac||r.news_source=="Promoted")z[d++]=
'<span class="age">',z[d++]="Promoted Article";else{z[d++]='<span class="age" title="';var r=z,x=d++,t=new Date(s*1E3),m="",m=t.getFullYear()+"-";m+=t.getMonth()+1<10?"0":"";m+=t.getMonth()+1+"-";m+=t.getDate()<10?"0":"";m+=t.getDate();r[x]=m;z[d++]=" ";var r=z,x=d++,t="",Y=m=l,M=l,N=n;try{N=new Date(1E3*s),m=N.getHours(),Y=N.getMinutes(),M=N.getSeconds(),t+=(m<10?"0"+m:m)+":",t+=(Y<10?"0"+Y:Y)+":",t+=M<10?"0"+M:M}catch(V){t="00:00:00"}r[x]=t;z[d++]='" data-stamp="';z[d++]=s;z[d++]='">';z[d++]=ta(H-
s)}z[d++]="</span>";z[d++]="</div>"}z[d++]="</a>";b+=z.join("")}e.last=B;e.element.html(b)}function k(){var b=ja();$(".age",e.element).each(function(c,e){$(e).data().hasOwnProperty("stamp")&&$(e).html(ta(b-$(e).data("stamp")))})}function b(){K.gb("https://api.blockchain.info/bci-ads/feed",r,p)}function r(b){e.Wa.count++;e.Ib=b;Aa()&&(window.localStorage[e.da]=JSON.stringify(e.Ib));i();window.setTimeout(function(){$(".new",e.element).removeClass("new")},e.Q)}function p(){}function f(){return[$("<p/>").append(K.toggle(e.A.Ia,
function(){e.A.Ia=!0},function(){e.A.Ia=!1},function(){c();i();e.yb.Qa()})).append($("<span/>").addClass("control-label").html("Headlines Only"))]}var e={id:"id"+za++,element:n,da:"bci-markets-news",Q:2500,A:{Ia:!1,Nd:!0,source:!0,wc:30,od:[]},ac:9999E3,last:0,Wa:{id:-1,count:0,interval:3E5},Tb:-1,Ib:[],fd:{},Gd:!1,resize:{id:-1,timeout:50},tb:n,T:K.Da()};return{fa:function(){e.element=$("#news");c();i();e.Tb=window.setInterval(k,15E3);e.Wa.id=window.setInterval(b,e.Wa.interval);b();return this},
A:function(){return f()},save:function(){return{h:e.A.Ia}},load:function(){return this},unload:function(){K.Kb(e.id());window.clearInterval(e.Tb);window.clearInterval(e.Wa.id);return this},resize:ba(),Ca:function(){return e.T?function(){return e}:function(){return{}}}()}}
function pb(){function c(b){var c=b.exchange,e=b.base+b.quote;d.buffer.hasOwnProperty(c)||(d.buffer[c]={});d.buffer[c].hasOwnProperty(e)||(d.buffer[c][e]={last:n,yesterday:n,change:n,high:n,low:n,volume:n});d.last=ua(d.buffer);b.hasOwnProperty("high")&&b.high!=n&&(d.buffer[c][e].high=b.high);b.hasOwnProperty("low")&&b.low!=n&&(d.buffer[c][e].low=b.low);b.hasOwnProperty("volume")&&b.volume!=n&&(d.buffer[c][e].volume=b.volume);b.hasOwnProperty("last")&&b.last!=n&&(d.buffer[c][e].last=b.last);b.hasOwnProperty("change")&&
b.change!=n&&(d.buffer[c][e].change=b.change);b.hasOwnProperty("yesterday")&&b.yesterday!=n&&(d.buffer[c][e].yesterday=b.yesterday);i()}function i(){var b=K.P()+K.quote(),c=[],e="";for(e in d.buffer)if(d.buffer.hasOwnProperty(e))for(var f in d.buffer[e])d.buffer[e].hasOwnProperty(f)&&f==b&&c.push([e,d.buffer[e][f].volume]);c.sort(function(b,c){return b[1]<c[1]});for(var i=0;i<c.length;i++)if(e=c[i][0],d.buffer.hasOwnProperty(e))for(f in d.buffer[e])if(d.buffer[e].hasOwnProperty(f)&&f==b){var x=$("#exch-select tr.exch-"+
e);k(e,f,"last",$("td.price",x),!1,!1);k(e,f,"change",$("td.change",x),!0,!1);d.buffer[e][f].change>0?$("td.arrow",x).html(h()):d.buffer[e][f].change<0?$("td.arrow",x).html(S()):$("td.arrow",x).html("&mdash;");if(e==K.U()){k(K.U(),b,"last",$("#big-price"),!1,!0);k(K.U(),b,"change",$("#top-change"),!0,!1);d.buffer[K.U()][b].change>0?$("#top-arrow").html(h()):d.buffer[K.U()][b].change<0?$("#top-arrow").html(S()):$("#top-arrow").html("&mdash;");var r=fa.ub(K.quote(),d.buffer[K.U()][b].last,K.fc());K.Eb("("+
r+") ")}$("#exch-select tbody").append(x)}d.last=ua(d.buffer)}function k(b,c,e,f,h,i){var k=d.J.ib,H="",s=0;try{s=d.buffer[b][c][e],H=s.toFixed(k)}catch(t){return}h&&(H+="%");i&&(H=fa.ub(c.substring(3),s,k));$(f).html(H);h?d.buffer[b][c][e]>0?$(f).addClass("up").removeClass("down"):d.buffer[b][c][e]<0?$(f).addClass("down").removeClass("up"):$(f).removeClass("up").removeClass("down"):d.last.hasOwnProperty(b)&&d.last[b]!=n&&d.last[b].hasOwnProperty(c)&&d.last[b][c]!=n&&d.last[b][c].hasOwnProperty(e)&&
d.last[b][c][e]!=n&&(d.buffer[b][c][e]>d.last[b][c][e]?L($(f).addClass("up"),"up",d.J.Q):d.buffer[b][c][e]<d.last[b][c][e]&&L($(f).addClass("down"),"down",d.J.Q))}function b(b){"undefined"!=typeof b&&(new T).create((new T).BOOL)}function r(b){var e=b.price,f=b.exchange,h={last:e,exchange:f,base:b.base,quote:b.quote},b=b.base+b.quote;try{var i=d.buffer[f][b];e>i.high&&(h.high=e);e<i.low&&(h.low=e);i.yesterday!=n&&i.yesterday>0&&(h.change=(e/i.yesterday-1)*100)}catch(k){}c(h)}function p(){var b=K.U(),
e=K.P()+K.quote();if(!d.buffer.hasOwnProperty(b)||!d.buffer[b].hasOwnProperty(e)){var b=K.U(),e=K.P(),f=K.quote(),b={exchange:b,base:e,quote:f},e=fb.data.bars;if(e.hasOwnProperty(86400)&&(e=e[86400],!(e.length<=0)))b.high=e[0][2],b.low=e[0][3],b.last=e[0][4],e.length>1&&e[1][4]>0&&(b.change=(e[0][4]/e[1][4]-1)*100),c(b)}}function f(){K.gb("https://blockchain.info/markets/data/tickers.json",e,X)}function e(b){var c={},e="",f="",e="",h={},k;for(k in b)if(b.hasOwnProperty(k)){c=b[k];h[k]={};for(var r in c)if(c.hasOwnProperty(r)){f=
r.split("_");e=f[0];f=f[1];e+=f;h[k][e]={last:n,yesterday:n,change:n,high:n,low:n,volume:n};c[r].hasOwnProperty("p")&&(h[k][e].last=c[r].p);if(c[r].hasOwnProperty("d"))h[k][e].last!=n&&(h[k][e].yesterday=h[k][e].last/(c[r].d/100+1)),h[k][e].change=c[r].d;c[r].hasOwnProperty("h")&&(h[k][e].high=c[r].h);c[r].hasOwnProperty("l")&&(h[k][e].low=c[r].l);c[r].hasOwnProperty("v")&&(h[k][e].volume=c[r].v)}}d.last=ua(d.buffer);d.buffer=h;if(Aa())try{window.localStorage[d.da]=JSON.stringify(h)}catch(H){}i()}
function X(){}function h(){return'<span class="arrow-wrap"><span class="arrow arr-up"></span></span>'}function S(){return'<span class="arrow-wrap"><span class="arrow arr-down"></span></span>'}var d={id:"id"+za++,da:"bc-markets-tickers",self:n,J:{Q:2500,ib:2},A:{},last:{},buffer:{},la:{id:-1,interval:3E5},T:K.Da()};return{fa:function(e){b(e);e={};if(Aa()&&window.localStorage.hasOwnProperty(d.da))try{e=JSON.parse(window.localStorage[d.da])}catch(h){}d.buffer=e;c(fb.data.ticker);K.R("ticker",d.id,c);
K.R("trade",d.id,r);K.R("instrument",d.id,i);K.R("barclose",d.id,p);i();window.clearInterval(d.la.id);d.la.id=window.setInterval(f,d.la.interval);f();return this},A:function(){return[]},save:function(){return{}},load:function(c){b(c);return this},Ca:function(){return d.T?function(){return d}:function(){return{}}}()}}
var qb=function(){function c(){function c(b,d){var e=$("#message-wrap"),f=1E4;e.css("visibility","visible").on("click",function(b){e.css("visibility","hidden");b.stopPropagation();b.preventDefault()});"undefined"==typeof d&&(d={});"undefined"!=typeof d.timeout&&(f=1*d.timeout);$("#message").html(b).removeAttr("class").addClass(function(){return"undefined"==typeof d["class"]?n:d["class"]});window.setTimeout(function(){e.css("visibility","hidden")},f)}function b(b){var c=$("#conn_status"),d={open:{text:"Connected",
className:"success"},reconnect:{text:"Reconnect",className:"warning"},close:{text:"Disconnected",className:"warning"},error:{text:"Error",className:"error"},initialized:{text:"Initialized",className:"error"},connecting:{text:"Connecting",className:"warning"},connected:{text:"Connected",className:"success"},unavailable:{text:"Unavailable",className:"warning"},failed:{text:"Failed",className:"error"},disconnected:{text:"Disconnected",className:"warning"}};"undefined"!=typeof d[b]&&(c.text(d[b].text).addClass(d[b].className),
L(c,d[b].className,5E3))}function i(b){var c=new mb;c.fa($("#chart"),$("#chart-box"),b);$(window).bind("resize",c.resize);x.$.chart=c;$("#chart-settings").on("click",function(b){p(x.$.chart);la(b)})}function p(b){var c=$("#chart-settings"),d=b.A(),e=[],f=0,b=n;e[f++]='<div id="module-settings" class="paned-popup">';e[f++]='<div class="pane">';e[f++]="<h3>";e[f++]="Settings";e[f++]="</h3>";e[f++]='<div class="content fit-content">';e[f++]="</div>";e[f++]="</div>";e[f++]='<span class="clear">&nbsp;</span>';
e[f++]="</div>";b=$(e.join(""));$(".content",b).append(d).on("click",function(b){la(b)});$("body").append(b);b=$("#module-settings");b.on("click",function(b){la(b)});var d=b.width(),e=b.height(),h=c.offset(),f=h.left,h=h.top,i=c.width();c.height();var c=$(document).width(),k=$(document).height(),q=0,r=0,q=f+i+d>c?c-(f+i):c-(f+i+d),r=h+e>k?k-e-$("#footer").height():h;b.css("right",q+"px").css("top",r+"px")}function f(b){for(var c in x.X.Aa)if(x.X.Aa.hasOwnProperty(c)&&c!=b&&x.X.Aa[c].shown)typeof x.X.Aa[c].hideFun==
"function"&&x.X.Aa[c].hideFun(),$(x.X.Aa[c].element).removeClass("active"),x.X.Aa[c].shown=!1;$("#module-settings").remove()}function e(b){z(b);la(b);var b=$(b.currentTarget),c=b.data();if(!b.hasClass("active")&&typeof c!="undefined"&&c.hasOwnProperty("exch")){$("#exch-select tr.active").removeClass("active");b.addClass("active");var b=c.exch,c=K.P(),d=K.quote();$("#top-exchange").html(J.V(b));K.xb(b,c,d);h()}}function X(){var b=K.quote(),b=b.toUpperCase()+"&thinsp;&ndash;&thinsp;"+fa.V(b);return ya(b)}
function h(b){if(!x.X.na.Qa)x.X.na.Qa=!0;window.clearTimeout(x.save.id);window.clearTimeout(x.save.$b);x.save.$b=window.setTimeout(function(b){return function(){if(x.X.na.Qa){var c,d;x.X.na.Ja.layout.$=[];for(c in x.$)if("undefined"!=typeof x.$[c])d=x.$[c].save(),d.type=c,x.X.na.Ja.layout.$.push(ua(d));if(!b)window.clearTimeout(x.save.id),x.save.id=window.setTimeout(S,x.save.timeout);x.X.na.Qa=!1}}}(b),x.save.yc)}function S(){Settings_Helper.mb("ex",K.U());Settings_Helper.mb("b",K.P());Settings_Helper.mb("q",
K.quote());Settings_Helper.mb("version",K.version());Ya=x.X.na.Ja.layout.$;var b=Settings_Helper.save();Aa()&&(window.localStorage["bci-markets"]=b)}function d(b){var c=$("#ping_status"),d=b.latency;c.text((d*1E3).toFixed(0)+" ms / "+(b.processing*1E3).toFixed(0)+" ms").attr("class",n);d<0.05?(c.addClass("high"),L(c,"high",x.ab.Q)):d<0.1?(c.addClass("up"),L(c,"up",x.ab.Q)):d<0.5||(d<0.75?(c.addClass("down"),L(c,"down",x.ab.Q)):(c.addClass("low"),L(c,"low",x.ab.Q)));window.clearTimeout(x.Jb.id);x.Jb.id=
window.setTimeout(function(){$("#ping_status").html("&mdash;")},x.Jb.timeout)}function q(b){var c="",d=+b,b=$("#lag"),e=$("#lag_span");if(d<0.001)d=d*1E6|0,d<100&&(c+="&nbsp;"),d<10&&(c+="&nbsp;"),c+=d+" &mu;s",b.attr("class","up"),e.attr("class","");else if(d<1)d=d*1E3|0,d<100&&(c+="&nbsp;"),d<10&&(c+="&nbsp;"),c+=d+" ms",b.attr("class",""),e.attr("class","");else if(d<5)c+=d.toFixed(2)+"s",b.attr("class","down"),e.attr("class","");else{if(d<60)c+=d.toFixed(1)+"s";else{var f=(d|0)%60;c+=(d/60|0)+
":"+(f<10?"0":"")+f}b.attr("class","");e.attr("class","low")}b.html(c)}function D(b){"undefined"!=typeof b.price&&(b=fa.ub(b.quote,b.price,K.fc()),K.Eb("("+b+") "))}function B(b){var c=b.new_instr.exch,d=b.new_instr.base,e=b.new_instr.quote;f();$("#exchange a").html(ya(J.V(c)));$("#currency a").html(d+"/"+e);U(c);K.Eb("");if(!K.za()){var h=J.getObject(c);c==b.old_instr.exch?h!=n&&h.ed(d,e):(c=J.getObject(b.old_instr.exch),c!=n&&c.ld(b.old_instr.exch,b.old_instr.base,b.old_instr.quote),h!=n&&h.rc())}}
function U(b){$("#exchange_data_link").html('&emsp;Data:&thinsp;<a href="'+J.url(b)+'" target="_blank">'+J.V(b)+"</a>")}function I(b){var d={"class":n};b.hasOwnProperty("class")&&(d["class"]=b["class"]);b.hasOwnProperty("msg")&&c(b.msg,d)}var x={element:n,self:n,$:{},ab:{Q:2500,Vc:1,Tc:2,Zc:4,Sc:8,Uc:16,Pc:32,qc:64,nc:128,Qc:256,Xc:512},X:{element:n,Ld:"https://blockchain.info/markets/support/platform/",yb:[{text:"Chart",type:"chart",Ba:"chart/"},{text:"Console",type:"console",Ba:"console/"},{text:"News",
type:"news",Ba:"news/"},{text:"Order Book",type:"order-book",Ba:"order-book/"},{text:"Network",type:"network",Ba:"network/"},{text:"Ticker",type:"ticker",Ba:"ticker/"},{text:"Time &amp; Sales",type:"time-sales",Ba:"time-sales/"},{text:"Visual Depth",type:"visual-depth",Ba:"visual-depth/"}],na:{element:n,Ja:{},bc:[],ea:"",Qa:!1,Ad:[]},Kd:!1,Aa:{}},save:{timeout:1E3,id:-1,yc:50,$b:-1},Sd:{id:-1,nd:5E3},Jd:!1,Jb:{id:-1,timeout:1E4},T:K.Da()},z=K.T;return{fa:function(c){x.self=this;$(".footer-links").append($("<span/>").attr("id",
"exchange_data_link"));x.X.na.Ja.layout={$:Ya};x.X.na.bc.push("layout");var k=K.Vb(),t="",m=[],p=0,z=$("#exch-select tbody");p++;for(var N=0;N<k.length;N++)t=k[N],m[p++]='<tr class="exch-',m[p++]=t,t==K.U()&&(m[p++]=" active"),m[p++]='" data-exch="',m[p++]=t,m[p++]='">',m[p++]="<td>",m[p++]=J.V(t),m[p++]="</td>",m[p++]='<td class="r price">&mdash;</td>',m[p++]='<td class="r arrow">&mdash;</td>',m[p++]='<td class="r change">&mdash;</td>',m[p++]="</tr>";z.html(m.join(""));$("tr",z).on("click",e);$("#top-exchange").html(J.V(K.U()));
$("#currency").html(X());$(document).click(f);U(K.U());K.R("status","platform",b);K.R("instrument","platform",B);K.R("trade","platform",D);K.R("timing","platform",d);K.R("exchange-lag","platform",q);K.R("settings-change","platform",h);K.R("platform-message","platform",I);m=k=0;p="";t={};for(k=0;k<c.length;k++){p=c[k];for(m=0;m<x.X.na.Ja.layout.$.length;m++)if(t=x.X.na.Ja.layout.$[m],t.type==p)break;else t={};switch(p){case "chart":i(t);break;case "network":m=t;p=new nb;p.fa(m);x.$.network=p;break;
case "news":m=t;p=new ob;p.fa(m);x.$.news=p;break;case "troll":m=t;p=new TrollBox;p.fa($("#troll"),m);x.$.troll=p;break;case "ticker":m=t,p=new pb,p.fa(m),x.$.ticker=p}}},start:function(){K.U();if(!K.za()){var b=J.getObject(K.U());b!=n&&b.rc()}},hd:function(b){_createModule(b);h()},kd:function(b,c){x.$.hasOwnProperty(b)&&delete x.$[b]&&(c||h())},td:function(){h()},qd:function(){f()},message:function(b,d){c(b,{"class":d});return this},Ca:function(){return x.T?function(){return x}:ea(n)}()}}var i=n;
return new function(){this.Ma=function(){if(i==n)i=new c,i.constructor=n;return i}}}();
$(document).ready(function(){K.version(window.ZB_Input.version).Vb(window.ZB_Input["exch-list"]).xb(window.ZB_Input.exchange,window.ZB_Input.base,window.ZB_Input.quote);if(Aa()&&"bci-markets"in window.localStorage)try{var c=JSON.parse(window.localStorage["bci-markets"]);Settings_Helper.Dc(c);K.xb(Ja,Ha,Ia)}catch(i){}K.Qb=qb.Ma();fb=Za.Ma();fb.self(fb).Ic();$(".navbar-toggle").on("click",function(){$("#nav").toggleClass("shown")});K.Qb.fa(window.ZB_Input.modules);window.setTimeout(K.Qb.start,1E3)});
